
# Java Interview Questions Summary
ref:https://juejin.im/entry/578d938079bc44005ff26aec  
    https://www.jianshu.com/p/511fa4fbf3d5
    https://juejin.im/post/5c788d986fb9a049f154e479

### ä¸€ã€javaåŸºç¡€çŸ¥è¯†ç‚¹

#### javaä¸­==å’Œequalså’ŒhashCodeçš„åŒºåˆ«:
    
    ==æ˜¯è¿ç®—ç¬¦ï¼Œæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå˜é‡æ˜¯å¦ç›¸ç­‰ï¼›
    è€Œequalsæ˜¯objectçš„æ–¹æ³•ï¼Œæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸ç­‰ï¼Œè·Ÿ==ä¸€æ ·, å› ä¸ºequalså†…éƒ¨ä¹Ÿæ˜¯é€šè¿‡==æ¥å®ç°çš„ï¼›
    hashcodeyä¹Ÿæ˜¯Objectçš„æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªç¦»æ•£çš„intå‹æ•´æ•°,åœ¨é›†åˆæ“ä½œç±»ä¸­ä½¿ç”¨,ä¸ºäº†æé«˜æŸ¥è¯¢é€Ÿåº¦;
    ä»è€Œåœ¨é›†åˆæ“ä½œçš„æ—¶å€™æœ‰å¦‚ä¸‹è§„åˆ™ï¼š
    å°†å¯¹è±¡æ”¾å…¥åˆ°é›†åˆä¸­æ—¶ï¼Œé¦–å…ˆåˆ¤æ–­è¦æ”¾å…¥å¯¹è±¡çš„hashcodeå€¼ä¸é›†åˆä¸­çš„ä»»æ„ä¸€ä¸ªå…ƒç´ çš„hashcodeå€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœä¸ç›¸ç­‰ç›´æ¥å°†è¯¥
    å¯¹è±¡æ”¾å…¥é›†åˆä¸­ã€‚ å¦‚æœhashcodeå€¼ç›¸ç­‰ï¼Œç„¶åå†é€šè¿‡equalsæ–¹æ³•åˆ¤æ–­è¦æ”¾å…¥å¯¹è±¡ä¸é›†åˆä¸­çš„ä»»æ„ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœequals
    åˆ¤æ–­ä¸ç›¸ç­‰ï¼Œç›´æ¥å°†è¯¥å…ƒç´ æ”¾å…¥åˆ°é›†åˆä¸­ï¼Œå¦åˆ™ä¸æ”¾å…¥ã€‚ å›è¿‡æ¥è¯´getçš„æ—¶å€™ï¼ŒHashMapä¹Ÿå…ˆè°ƒkey.hashCode()ç®—å‡ºæ•°ç»„ä¸‹æ ‡ï¼Œ
    ç„¶åçœ‹equalså¦‚æœæ˜¯trueå°±æ˜¯æ‰¾åˆ°äº†ï¼Œæ‰€ä»¥å°±æ¶‰åŠäº†equals
    
#### intã€charã€longå„å å¤šå°‘å­—èŠ‚æ•°:
    int               4å­—èŠ‚  
    short             2å­—èŠ‚    
    long              8å­—èŠ‚    
    byte              1å­—èŠ‚    
    float             4å­—èŠ‚   
    double            8å­—èŠ‚      
    char              2å­—èŠ‚    
    boolean           1å­—èŠ‚ 
    å¯¹ä¹ŸStringæ¥è¯´ï¼Œä¸€ä¸ªè‹±æ–‡å­—ç¬¦å›ºå®šå 1ä¸ªå­—èŠ‚ï¼Œè€Œä¸­æ–‡å­—ç¬¦å 2ä¸ªï¼ˆGBKç¼–ç ï¼‰æˆ–3ä¸ªï¼ˆUTF-8ç¼–ç ï¼‰å­—èŠ‚
    
#### intä¸Integerçš„åŒºåˆ«
    intå’ŒIntegeræœ€å¤§çš„åŒºåˆ«å°±æ˜¯intæ˜¯åŸºæœ¬æ•°æ®ç±»å‹è€ŒIntegeræ˜¯åŒ…è£…ç±»(å¤æ‚çš„æ•°æ®ç±»å‹)ï¼›
    intæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ç›´æ¥å­˜æ”¾æ•°æ®ï¼Œè€ŒIntegeræ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨ä¸€ä¸ªå¼•ç”¨æŒ‡å‘è¯¥å¯¹è±¡ï¼›
    
#### æ¢è®¨å¯¹javaå¤šæ€çš„ç†è§£
    

#### Stringã€StringBufferã€StringBuilderåŒºåˆ«
    Stringæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡ï¼ŒStringbufferæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡(çº¿ç¨‹å®‰å…¨çš„)ï¼ŒStringBuilderæ˜¯å­—ç¬¦ä¸²å˜é‡(éçº¿ç¨‹å®‰å…¨)
    String ç±»å‹å’Œ StringBuffer ç±»å‹çš„ä¸»è¦æ€§èƒ½åŒºåˆ«å…¶å®åœ¨äº String æ˜¯ä¸å¯å˜çš„å¯¹è±¡, å› æ­¤åœ¨æ¯æ¬¡å¯¹ String ç±»å‹è¿›
    è¡Œæ”¹å˜çš„æ—¶å€™å…¶å®éƒ½ç­‰åŒäºç”Ÿæˆäº†ä¸€ä¸ªæ–°çš„ String å¯¹è±¡ï¼Œç„¶åå°†æŒ‡é’ˆæŒ‡å‘æ–°çš„ String å¯¹è±¡ï¼›
    ref:https://www.imooc.com/article/22988

#### ä»€ä¹ˆæ˜¯å†…éƒ¨ç±»ï¼Ÿå†…éƒ¨ç±»çš„ä½œç”¨
    å†…éƒ¨ç±»ï¼šå®šä¹‰åœ¨å¦ä¸€ä¸ªç±»ä¸­çš„ç±»ï¼›  
    å†…éƒ¨ç±»å¯ä»¥è®¿é—®è¯¥ç±»å®šä¹‰èº²åœ¨ä½œç”¨åŸŸä¸­çš„æ•°æ®ï¼ŒåŒ…æ‹¬è¢«privateä¿®é¥°çš„ç§æœ‰æ•°æ®ï¼›  
    å†…éƒ¨ç±»å¯ä»¥å®ç°javaå•ç»§æ‰¿çš„ç¼ºç‚¹ï¼›  
    å½“æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°ç¼ºä¸æƒ³å†™å¤§é‡ä»£ç çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ¥å®ç°ï¼›    
    https://juejin.im/post/5a903ef96fb9a063435ef0c8

#### æŠ½è±¡ç±»å’Œæ¥å£åŒºåˆ«
    æŠ½è±¡ç±»æ˜¯å®šä¹‰å­ç±»é€šç”¨ç‰¹æ€§çš„ï¼Œä»–æ˜¯ä¸èƒ½è¢«å®ä¾‹åŒ–çš„ï¼Œä»–åªèƒ½ä½œä¸ºå­ç±»çš„è¶…ç±»ï¼ŒæŠ½è±¡ç±»æ˜¯ç”¨æ¥åˆ›å»ºç»§æ‰¿å±‚é‡Œå­ç±»çš„é­”æ¿çš„ï¼›
    æ¥å£æ˜¯æŠ½è±¡æ–¹æ³•çš„é›†åˆï¼Œå¦‚æœæŸä¸ªç±»å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±è¦å®ç°æ¥å£é‡Œçš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼›æ¥å£åªæ˜¯ä¸ªå½¢å¼ï¼›
![](https://ws4.sinaimg.cn/large/006tKfTcgy1g0eebokzv8j31390u0ju2.jpg)

   
#### æŠ½è±¡ç±»çš„æ„ä¹‰
    ä¸ºå…¶å­ç±»æä¾›ä¸€ä¸ªå…¬å…±çš„ç±»å‹ï¼Œå°è£…å­ç±»ä¸­é‡å¤çš„å†…å®¹ï¼Œå®šä¹‰æŠ½è±¡æ–¹æ³•ï¼Œè™½ç„¶å­ç±»çš„å®ç°ä¸ä¸€æ ·ï¼Œä½†æ˜¯å®šä¹‰æ˜¯ä¸€è‡´çš„;
   
#### æ¥å£çš„æ„ä¹‰
    1,ç®€å•,è§„èŒƒæ€§;  
    2.ç»´æŠ¤ï¼Œæ‹“å±•æ€§ï¼›  
    3ï¼Œå®‰å…¨ï¼Œä¸¥å¯†æ€§;  
   
#### æŠ½è±¡ç±»ä¸æ¥å£çš„åº”ç”¨åœºæ™¯
    æŠ½è±¡ç±»ï¼šåœ¨éœ€è¦ç»Ÿä¸€çš„æ¥å£ï¼Œåˆéœ€è¦å®ä¾‹å˜é‡æˆ–è€…ç¼ºçœçš„æ–¹æ³•ï¼›
    æ¥å£:ç±»ä¸ç±»ä¹‹é—´éœ€è¦ç‰¹å®šçš„æ¥å£æ¥åè°ƒè€Œä¸éœ€è¦åœ¨ä¹å…·ä½“çš„å®ç°;

#### æŠ½è±¡ç±»æ˜¯å¦å¯ä»¥æ²¡æœ‰æ–¹æ³•å’Œå±æ€§ï¼Ÿ
    æŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æœ‰æŠ½è±¡æ–¹æ³•çš„ä¸€å®šæ˜¯æŠ½è±¡ç±»
    
* æ³›å‹ä¸­extendså’Œsuperçš„åŒºåˆ«
* çˆ¶ç±»çš„é™æ€æ–¹æ³•èƒ½å¦è¢«å­ç±»é‡å†™
* è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«
* finalï¼Œfinallyï¼Œfinalizeçš„åŒºåˆ«
* åºåˆ—åŒ–çš„æ–¹å¼
* Serializable å’ŒParcelable çš„åŒºåˆ«
* é™æ€å±æ€§å’Œé™æ€æ–¹æ³•æ˜¯å¦å¯ä»¥è¢«ç»§æ‰¿ï¼Ÿæ˜¯å¦å¯ä»¥è¢«é‡å†™ï¼Ÿä»¥åŠåŸå› ï¼Ÿ
* é™æ€å†…éƒ¨ç±»çš„è®¾è®¡æ„å›¾
* æˆå‘˜å†…éƒ¨ç±»ã€é™æ€å†…éƒ¨ç±»ã€å±€éƒ¨å†…éƒ¨ç±»å’ŒåŒ¿åå†…éƒ¨ç±»çš„ç†è§£ï¼Œä»¥åŠé¡¹ç›®ä¸­çš„åº”ç”¨
* è°ˆè°ˆå¯¹kotlinçš„ç†è§£
* é—­åŒ…å’Œå±€éƒ¨å†…éƒ¨ç±»çš„åŒºåˆ«
* string è½¬æ¢æˆ integerçš„æ–¹å¼åŠåŸç†


### äºŒã€javaæ·±å…¥æºç çº§çš„é¢è¯•é¢˜ï¼ˆæœ‰éš¾åº¦ï¼‰

#### å“ªäº›æƒ…å†µä¸‹çš„å¯¹è±¡ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å¤„ç†æ‰ï¼Ÿ
    GCåˆ¤æ–­å¯¹è±¡æ˜¯å¦èƒ½è¢«å›æ”¶çš„æ–¹æ³•:  
    1,å¼•ç”¨è®¡æ•°æ³•(ä¼šå‡ºç°å†…å­˜æ³„æ¼ï¼Œä¾‹å¦‚å‡ºç°å¯¹è±¡çš„å¾ªç¯å¼•ç”¨);    
    2,å¯è¾¾æ€§åˆ†ææ³•;
    ref:https://blog.csdn.net/justloveyou_/article/details/71216049 
        
#### è®²ä¸€ä¸‹å¸¸è§ç¼–ç æ–¹å¼ï¼Ÿ
    ç¼–ç æ˜¯ä»ä¸€ç§å½¢å¼æˆ–æ ¼å¼è½¬æ¢ä¸ºå¦ä¸€ç§å½¢å¼çš„è¿‡ç¨‹ä¹Ÿç§°ä¸ºè®¡ç®—æœºç¼–ç¨‹è¯­è¨€çš„ä»£ç ç®€ç§°ç¼–ç ã€‚
    ref:https://www.jianshu.com/p/54a3b6988368
        
#### utf-8ç¼–ç ä¸­çš„ä¸­æ–‡å å‡ ä¸ªå­—èŠ‚ï¼›intå‹å‡ ä¸ªå­—èŠ‚ï¼Ÿ
    ä¸­æ–‡: å­—èŠ‚æ•° 3; ç¼–ç  UTF-8
    int:  ä¸€ä¸ªutf-8æ•°å­—å 1ä¸ªå­—èŠ‚

#### é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†çš„åŒºåˆ«ï¼Œä»€ä¹ˆåœºæ™¯ä½¿ç”¨ï¼Ÿ
    é™æ€ä»£ç†çš„ä»£ç†å…³ç³»åœ¨ç¼–è¯‘çš„æ—¶å€™å°±å·²ç»ç¡®å®šäº†ï¼Œè€ŒåŠ¨æ€ä»£ç†æ˜¯åœ¨è¿è¡Œæ—¶æ‰ç¡®å®šçš„ï¼Œé™æ€ä»£ç†çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œ  
    é€‚åˆåšä»£ç†ç±»è¾ƒå°‘ä¸”ç¡®å®šçš„æƒ…å†µï¼Œè€ŒåŠ¨æ€ä»£ç†æ¯”è¾ƒçµæ´»ï¼Œä¾‹å¦‚æ—¥å¿—è¾“å‡ºï¼Œè®¿é—®æ§åˆ¶ï¼Œæˆ–è€…æ˜¯ä¸€äº›å¤æ‚çš„é™„åŠ é€»è¾‘ï¼Œ  
    åƒspringçš„AOPç­‰;  
    ref:http://www.importnew.com/27772.html  
        https://www.jianshu.com/u/5aff4598d8aa  

#### Javaçš„å¼‚å¸¸ä½“ç³»
    Throwableæ˜¯javaå¼‚å¸¸ä½“ç³»çš„é¡¶çº§çˆ¶ç±»ï¼Œå®ƒæœ‰ä¸¤ä¸ªå­ç±»ï¼Œåˆ†åˆ«æ˜¯Errorå’ŒException;   
    Erroræ˜¯JVMç³»ç»Ÿçº§é”™è¯¯ï¼Œä¾‹å¦‚å†…å­˜æº¢å‡ºï¼Œæ ˆæº¢å‡ºï¼Œè€ŒExceptionæ˜¯ç¨‹åºè¿è¡Œæ—¶å‘é€çš„å„ç§ä¸æœŸæœ›çš„äº‹ä»¶ï¼Œå¯ä»¥è¢«
    javaå¼‚å¸¸å¤„ç†æœºåˆ¶æ‰€ä½¿ç”¨;   
    æ€»ä½“ä¸Šå¼‚å¸¸æœºåˆ¶åˆåˆ†ä¸ºä¸¤ç±»:  
    éæ£€æŸ¥æ—¶å¼‚å¸¸:Errorå’ŒExceptionä»¥åŠä»–ä»¬çš„å­ç±»,è¿™ç±»å¼‚å¸¸åœ¨javacç¼–è¯‘æ—¶ä¸ä¼šæç¤ºå’Œå‘ç°è¿™ç§å¼‚å¸¸ï¼Œè¿™ç§å¼‚å¸¸åº”è¯¥é€šè¿‡ä¿®æ­£ä»£ç æ¥è§£å†³
    è‡ªå®šä¹‰éæ£€æŸ¥æ—¶å¼‚å¸¸é€šè¿‡æ‰©å±•RuntimeExcetionï¼›
    æ£€æŸ¥æ—¶å¼‚å¸¸:é™¤äº†Errorå’ŒExceptionä¹‹å¤–çš„å¼‚å¸¸,javacå¼ºåˆ¶è¦æ±‚ç¨‹åºå‘˜ä¸ºè¿™æ ·çš„å¼‚å¸¸åšé¢„å¤‡å¤„ç†(try,,catch,,finallyæˆ–è€…throw),å¦‚ï¼š  
    SQLExceptionï¼ŒIOException,ClassNotFoundExceptionç­‰, é€šè¿‡ç»§æ‰¿Exceptionç±»è‡ªå®šä¹‰çš„å¼‚å¸¸ç±»å±äºæ£€æŸ¥æ—¶å¼‚å¸¸;   
    ref:http://www.importnew.com/26613.html  
![](https://ws3.sinaimg.cn/large/006tKfTcgy1g0l9v63spfj30ya0lwgn2.jpg)    
    
#### è°ˆè°ˆä½ å¯¹è§£æä¸åˆ†æ´¾çš„è®¤è¯†ã€‚
    

#### ä¿®æ”¹å¯¹è±¡Açš„equalsæ–¹æ³•çš„ç­¾åï¼Œé‚£ä¹ˆä½¿ç”¨HashMapå­˜æ”¾è¿™ä¸ªå¯¹è±¡å®ä¾‹çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å“ªä¸ªequalsæ–¹æ³•ï¼Ÿ
    ä¼šè°ƒç”¨å¯¹è±¡çš„equalsæ–¹æ³•ã€‚
    ref:https://www.jianshu.com/p/985534b21089
    
* Javaä¸­å®ç°å¤šæ€çš„æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ

##### å¦‚ä½•å°†ä¸€ä¸ªJavaå¯¹è±¡åºåˆ—åŒ–åˆ°æ–‡ä»¶é‡Œï¼Ÿ
    ä½¿ç”¨ObjectOutputStreamå°†åºåˆ—åŒ–åçš„å¯¹è±¡å†™å…¥æ–‡ä»¶ï¼Œä½¿ç”¨ObjectInputStreamå°†åºåˆ—åŒ–åçš„å¯¹è±¡ä»æ–‡ä»¶ä¸­è¯»å–; 
    ref:https://github.com/xingxingt/centrecode/blob/master/src/main/java/serializable/SerializableInputOutDemo.java
    
#### è¯´è¯´ä½ å¯¹Javaåå°„çš„ç†è§£
    åå°„å¯ä»¥è®©ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™èƒ½å¤ŸåŠ¨æ€çš„åŠ è½½ä»»æ„ç±»çš„å†…éƒ¨ä¿¡æ¯(æ–¹æ³•,å˜é‡,æ„é€ å‡½æ•°...)
    ref:http://www.importnew.com/23560.html
        https://github.com/xingxingt/centrecode/tree/master/src/main/java/reflectdemo
    
#### è¯´è¯´ä½ å¯¹Javaæ³¨è§£çš„ç†è§£
    æ³¨è§£ä¸ºæˆ‘ä»¬ä»£ç æ·»åŠ ä¿¡æ¯æä¾›ä¸€ç§å½¢å¼åŒ–çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿æˆ‘ä»¬åœ¨ç¨åæŸä¸ªæ—¶åˆ»ä½¿ç”¨è¿™äº›æ•°æ®(åˆ©ç”¨åå°„);
    ref:http://www.importnew.com/23564.html  
        https://www.jianshu.com/p/51ffb289ccbe

* è¯´è¯´ä½ å¯¹ä¾èµ–æ³¨å…¥çš„ç†è§£
    ref:https://www.jianshu.com/p/506dcd94d4f9
* è¯´ä¸€ä¸‹æ³›å‹åŸç†ï¼Œå¹¶ä¸¾ä¾‹è¯´æ˜
* Javaä¸­Stringçš„äº†è§£
* Stringä¸ºä»€ä¹ˆè¦è®¾è®¡æˆä¸å¯å˜çš„ï¼Ÿ
* Objectç±»çš„equalå’ŒhashCodeæ–¹æ³•é‡å†™ï¼Œä¸ºä»€ä¹ˆï¼Ÿ


### ä¸‰ã€æ•°æ®ç»“æ„

#### å¸¸ç”¨æ•°æ®ç»“æ„ç®€ä»‹
    Collection:  
    List:LinkedList,ArrayList,Vector,Stack,Set,TreeSet 
    Map:HashMap,HashTable,WeakHashMap,TreeMap  
    
#### å¹¶å‘é›†åˆäº†è§£å“ªäº›ï¼Ÿ
    concurrentHashMap  
    copyOnWriteArrayList  
    copyOnWriteHashSet  
    
#### åˆ—ä¸¾javaçš„é›†åˆä»¥åŠé›†åˆä¹‹é—´çš„ç»§æ‰¿å…³ç³»
    ä¾‹å¦‚Iteratorçš„å­ç±»æœ‰Collectionå’ŒMapï¼Œè€ŒCollectionçš„å­ç±»æœ‰Listå’ŒSetï¼ŒMapçš„å­ç±»æœ‰HashMapå’ŒTreeMap...  
![](https://ws4.sinaimg.cn/large/006tKfTcgy1g0oh9on5hcj318a0najtt.jpg)

#### Javaä¸­çš„Iteratorå’ŒIterable åŒºåˆ«
    Ieteratoræ˜¯java.utilåŒ…ä¸­è¿­ä»£å™¨ç±»,è€ŒIeterableæ˜¯java.langåŒ…ä¸­æ¥å£ï¼Œå¥½å¤šå¯¹è±¡éƒ½å®ç°äº†Iterableæ¥å£ï¼Œä»è€Œå¯¹è±¡
    å¯ä»¥è°ƒç”¨Iterator()æ–¹æ³•;  
    ref:https://www.jianshu.com/p/b65ddde3acd8
    
#### é›†åˆç±»/é›†åˆæ¡†æ¶å›¾

![](https://ws3.sinaimg.cn/large/006tKfTcgy1g0pceuy5n3j31g90u0dhn.jpg)
![](https://ws2.sinaimg.cn/large/006tKfTcgy1g0pcexuvi2j31im0q00tw.jpg)

#### é›†åˆç±»ä»¥åŠé›†åˆæ¡†æ¶
    1,Set:HashSetçš„å®ç°æ˜¯åˆ©ç”¨HashMapæ¥åšçš„ï¼ŒLinkedHashSetæ˜¯ç»§æ‰¿äº†HashSetåº•å±‚ç”¨LinkedHashMapå®ç°çš„,TreeSetåº•å±‚ä½¿ç”¨äºŒå‰æ ‘æ ‘å®ç°çš„ï¼Œ
      åº•å±‚åŸºäºTreeMapå®ç°çš„ï¼›  
    2,List:ArrayListåº•å±‚æ˜¯åŸºäºæ•°ç»„æ¥å®ç°çš„éçº¿ç¨‹å®‰å…¨æ“…é•¿éšæœºè®¿é—®ï¼›LinkedListåº•å±‚æ˜¯ç”¨é“¾è¡¨æ¥å®ç°çš„éçº¿ç¨‹å®‰å…¨çš„æ“…é•¿æ’å…¥å’Œåˆ é™¤æ“ä½œ
      ,Vectorä¸ArrayListç›¸ä¼¼åº•å±‚ä¹Ÿæ˜¯æ•°æ®å®ç°çš„ï¼Œä½†æ˜¯Vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›Stackç»§æ‰¿Vectoræ˜¯ä¸€ä¸ªåè¿›å…ˆå‡ºçš„æ ˆï¼›    
    3,Map: HashMap:æ•£åˆ—è¡¨æ˜¯åº•å±‚åŸºäºæ•°ç»„å­˜å‚¨æ•°æ®ï¼Œä½¿ç”¨æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘(Hashç¢°æ’)æ¥å®ç°,LinkedHashMapç»§æ‰¿HashMapåº•å±‚ä½¿ç”¨é“¾è¡¨æ¥å­˜å‚¨æ•°æ®çš„,
      LinkedHashMapæ—¢å¯ä»¥æŒ‰ç…§å®ƒä»¬æ’å…¥çš„é¡ºåºæ’åºï¼Œä¹Ÿå¯ä»¥æŒ‰å®ƒä»¬æœ€åä¸€æ¬¡è¢«è®¿é—®çš„é¡ºåºæ’åºï¼›TreeMapæœ‰åºæ•£åˆ—è¡¨,åŸºäºçº¢é»‘æ ‘æ¥å®ç°ï¼›
      WeakHashMapå¼±å¼•ç”¨é”®å®ç°çš„Map,è·ŸGCæœ‰å…³;  
      1,å¼ºå¼•ç”¨ï¼šæ™®éå¯¹è±¡å£°æ˜çš„å¼•ç”¨ï¼Œå­˜åœ¨ä¾¿ä¸ä¼šGC  
      2,è½¯å¼•ç”¨ï¼šæœ‰ç”¨ä½†å¹¶éå¿…é¡»ï¼Œå‘ç”Ÿå†…å­˜æº¢å‡ºå‰ï¼ŒäºŒæ¬¡å›æ”¶  
      3,å¼±å¼•ç”¨ï¼šåªèƒ½ç”Ÿå­˜åˆ°ä¸‹æ¬¡GCä¹‹å‰ï¼Œæ— è®ºæ˜¯å¦å†…å­˜è¶³å¤Ÿ    
      4,è™šå¼•ç”¨ï¼šå”¯ä¸€ç›®çš„æ˜¯åœ¨è¿™ä¸ªå¯¹è±¡è¢«GCæ—¶èƒ½æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥  
    ref:https://www.jianshu.com/p/63e76826e852  
        http://alexyyek.github.io/2015/04/06/Collection/   
    code:https://github.com/xingxingt/centrecode/tree/master/src/main/java/collectionandmap  

#### å®¹å™¨ç±»ä»‹ç»ä»¥åŠä¹‹é—´çš„åŒºåˆ«ï¼ˆå®¹å™¨ç±»ä¼°è®¡å¾ˆå¤šäººæ²¡å¬è¿™ä¸ªè¯ï¼ŒJavaå®¹å™¨ä¸»è¦å¯ä»¥åˆ’åˆ†ä¸º4ä¸ªéƒ¨åˆ†ï¼šListåˆ—è¡¨ã€Seté›†åˆã€Mapæ˜ å°„ã€å·¥å…·ç±»ï¼ˆIteratorè¿­ä»£å™¨ã€Enumerationæšä¸¾ç±»ã€Arrayså’ŒCollectionsï¼‰ï¼Œå…·ä½“çš„å¯ä»¥çœ‹çœ‹è¿™ç¯‡åšæ–‡ [Javaå®¹å™¨ç±»]ï¼‰
    ref:http://alexyyek.github.io/2015/04/06/Collection/
![](https://ws4.sinaimg.cn/large/006tKfTcgy1g0pd0tg95tj31hc0pwjuj.jpg)    

#### List,Set,Mapçš„åŒºåˆ«
     Map:ä¸€ä¸ªä¿å­˜é”®å€¼å¯¹çš„å¯¹è±¡ï¼Œæ˜ å°„çš„Mapä¸­ä¸èƒ½æœ‰é‡å¤çš„keyï¼›
     List:Listå­˜å‚¨çš„å•ä¸ªå…ƒç´ å®¹å™¨æ˜¯ä¸ªæœ‰åºçš„å¯ä»¥ç´¢å¼•åˆ°å…ƒç´ çš„å®¹å™¨ï¼Œå¹¶ä¸”é‡Œé¢çš„å…ƒç´ å¯ä»¥é‡å¤ï¼›
     Set:Seté‡Œé¢å’ŒListæœ€å¤§çš„åŒºåˆ«æ˜¯Seté‡Œé¢çš„å…ƒç´ å¯¹è±¡ä¸å¯é‡å¤ã€‚
     
#### Listå’ŒMapçš„å®ç°æ–¹å¼ä»¥åŠå­˜å‚¨æ–¹å¼
     List:Listçš„å®ç°ç”±ArrayList,LinkedListï¼›ArrayListçš„å­˜å‚¨æ–¹å¼æ˜¯æ•°ç»„ï¼Œç‰¹ç‚¹æŸ¥è¯¢å¿«;LinkedListå­˜å‚¨æ–¹å¼æ˜¯é“¾è¡¨,  
          ç‰¹ç‚¹æ˜¯åˆ é™¤ï¼Œæ’å…¥å¿«;           
     Map: Mapçš„å®ç°ç”±HashMap,LinkedHashMap,TreeMap,weekHashMap;HashMapçš„å­˜å‚¨æ–¹å¼æ˜¯æ•£åˆ—è¡¨,ç‰¹ç‚¹å¿«é€ŸæŸ¥æ‰¾é”®å€¼ï¼›  
          LinkedHashMapå­˜å‚¨æ–¹å¼æ˜¯é“¾è¡¨ï¼›TreeMapçš„å­˜å‚¨æ–¹å¼æ˜¯å¯¹é”®æŒ‰åºå­˜æ”¾;  
         
#### HashMapçš„å®ç°åŸç†  
    ref:http://www.importnew.com/31278.html#comment-742217  
        http://wiki.jikexueyuan.com/project/java-collection/hashmap.html
        
#### HashMapæºç ç†è§£
    https://github.com/xingxingt/xingxingt.github.io/blob/master/_posts/2018-08-01-HashMap%E8%AF%A6%E8%A7%A3.md
    
#### HashMapå¦‚ä½•putæ•°æ®ï¼ˆä»HashMapæºç è§’åº¦è®²è§£ï¼‰ï¼Ÿ
    1ï¼Œé¦–å…ˆè®¡ç®—keyçš„hashCodeå¹¶è®¡ç®—æ•°ç»„çš„ä¸‹æ ‡ä½ç½®  
    2ï¼Œåˆ¤æ–­æ•°ç»„tableæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¿›è¡Œåˆå§‹åŒ–ï¼Œè°ƒç”¨resize()  
    3ï¼Œç„¶ååˆ¤æ–­hashCodeæ‰€å¯¹åº”çš„æ§½ä½æ˜¯å¦æœ‰æ•°æ®,å¦‚æœæ²¡æœ‰æ•°æ®å°±ç›´æ¥newä¸€ä¸ªæ–°çš„Nodeå­˜å…¥tableä¸­;  
    4,å¦‚æœå‘ç”Ÿhashç¢°æ’åˆ™å…ˆåˆ¤æ–­keyçš„hashå€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœkeyçš„hashå€¼ç›¸åŒé‚£å°±å†ç”¨equalsåˆ¤æ–­ä¸¤ä¸ªkeyæ˜¯å¦ç›¸åŒï¼Œ
      å¦‚æœä¸¤ä¸ªkeyç›¸åŒï¼Œé‚£å°±ç›´æ¥è¦†ç›–æ‰keyå¯¹åº”çš„valueå€¼;  
    5,ç„¶åç»§ç»­åˆ¤æ–­æ˜¯èŠ‚ç‚¹æ˜¯å¦æ˜¯æ ‘ï¼Œå¦‚æœæ˜¯æ ‘åˆ™ç›´æ¥æŒ‚è½½åˆ°æ ‘èŠ‚ç‚¹ä¸Š    
    6,å¦‚æœä¸æ˜¯æ ‘èŠ‚ç‚¹ï¼Œé‚£å°±æ˜¯æ˜¯é“¾è¡¨ç»“æ„ï¼Œå°†èŠ‚ç‚¹æ·»åŠ åˆ°é“¾è¡¨çš„å°¾éƒ¨ï¼Œåˆ¤æ–­é“¾è¡¨çš„é•¿åº¦æ˜¯å¦æ˜¯å¤§äºç­‰äº8ï¼Œå¦‚æœæ˜¯åˆ™è½¬ä¸ºçº¢é»‘æ ‘ï¼›  
    7ï¼Œputä¹‹ååˆ¤æ–­æ•°æ®é‡æ˜¯å¦è¶…è¿‡thresholdï¼Œå¦‚æœè¶…è¿‡åˆ™è¿›è¡Œresize()  

#### HashMapæ€ä¹ˆæ‰‹å†™å®ç°ï¼Ÿ
    ç®€æ˜“ç‰ˆ:
    ref:https://github.com/xingxingt/centrecode/blob/master/src/main/java/dataStructure/MapImplDemo.java
    
#### ConcurrentHashMapçš„å®ç°åŸç† 
    ConcurrentHashMapå’ŒHashMapä¸€æ ·ä½¿ç”¨tableå­˜å‚¨Nodeï¼Œå¹¶ç”¨keyçš„hashcodeæ¥ç¡®å®štableçš„indexä¸‹æ ‡ï¼Œå¤„ç†hashç¢°æ’æ—¶ä¹Ÿæ˜¯ä½¿ç”¨  
    é“¾è¡¨å’Œçº¢é»‘æ ‘æ¥è§£å†³;  
    åœ¨1.7ä¹‹å‰ConcurrentHashMapä½¿ç”¨çš„æ˜¯segmenté”åˆ†æ®µçš„æŠ€æœ¯å®ç°çš„é«˜å¹¶å‘ï¼Œè€Œåœ¨1.8ä¸­ConcurrentHashMapæ˜¯ä½¿ç”¨CAS+synchronized
    çš„æ–¹æ³•æ¥è§£å†³å¹¶å‘é—®é¢˜ï¼›
    
    https://www.jianshu.com/p/c0642afe03e0
    1.8ref:https://juejin.im/entry/59fc786d518825297f3fa968#comment
    1.6ref:https://www.ibm.com/developerworks/cn/java/java-lo-concurrenthashmap/index.html  
![](https://ws4.sinaimg.cn/large/006tKfTcgy1g0wfah1argj31220kudjc.jpg)        

#### HashTableå®ç°åŸç†
    HashTableåˆå«æ•£åˆ—è¡¨,å®ƒç»§æ‰¿Dictionaryå¹¶å®ç°äº†Mapæ¥å£ï¼Œå®ƒçš„é”®å€¼éƒ½æ˜¯å¯¹è±¡ï¼ŒHashTableåº•å±‚æ˜¯ç”¨Entry[]æ•°ç»„+é“¾è¡¨çš„ç»“æ„æ¥å®ç°çš„ï¼Œ    
    å› ä¸ºHashTableæ˜¯ä¸€ä¸ªåŒæ­¥å®¹å™¨ï¼Œæ‰€ä»¥HashTableçš„æ–¹æ³•åŸºæœ¬ä¸Šéƒ½ç”¨Synchronizedä¿®é¥°ï¼›    
    putï¼šå…ˆæ£€æŸ¥putçš„keyæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¿”å›ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå¦åˆ™è®¡ç®—keyçš„hashcodeï¼Œç„¶åæ ¹æ®keyçš„hashcodeè®¡ç®—tableçš„ä¸‹æ ‡ï¼Œå¦‚æœ  
    table[index]æœ‰æ•°æ®å­˜åœ¨åˆ™è¿›è¡Œéå†ï¼Œå¦‚æœé‡åˆ°æœ‰ç›¸åŒä¸ªkeyåˆ™è¿›è¡Œæ›¿æ¢ï¼Œå¦‚æœä¸ç›¸åŒåˆ™ç›´æ¥æ·»åŠ ï¼›  
    get:æ ¹æ®keyçš„hashcodeè®¡ç®—tableçš„indexä¸‹æ ‡ï¼Œç„¶åéå†é“¾è¡¨ï¼Œæ‰¾åˆ°äº†è¿”å›ï¼Œæ‰¾ä¸åˆ°åˆ™è¿”å›null;  


#### HashMapå’ŒHashTableçš„åŒºåˆ«
     1,HashMapçš„keyå’Œvalueéƒ½å…è®¸ä¸ºç©º,éçº¿ç¨‹å®‰å…¨æ•ˆç‡è¦æ¯”HashTableé«˜ï¼Œä¸èƒ½åŒ…å«é‡å¤çš„é”®ï¼Œä½†èƒ½åŒ…å«é‡å¤çš„å€¼ï¼Œ  
       HashMapæ˜¯ä½¿ç”¨æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘æ¥å®ç°çš„ï¼›  
     2,HashTableçš„keyå’Œvalueä¸å¯ä»¥ä¸ºç©ºï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒHashTableæ˜¯ä½¿ç”¨æ•°ç»„+é“¾è¡¨æ¥å®ç°çš„ï¼›  
     3,HashMapçš„è¿­ä»£å™¨(Iterator)æ˜¯fial-fast(å¿«é€Ÿå¤±è´¥);å½“å…¶ä»–çº¿ç¨‹æ”¹å˜äº†HashMapçš„ç»“æ„(å¢åŠ æˆ–è€…åˆ é™¤)ï¼Œ
       åˆ™æŠ›å‡ºConcurrentModificationException,è€ŒHashTableæ˜¯enumeratorè¿­ä»£å™¨ï¼Œä¸ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼›
       
#### HashMapä¸HashSetçš„åŒºåˆ«
     1,HashSetå®ç°äº†Setæ¥å£ï¼Œå®ƒä¸å…è®¸æœ‰é‡å¤çš„å€¼ï¼Œå­˜å‚¨çš„æ˜¯å•å¯¹è±¡ï¼ŒHaseSetHashSetä½¿ç”¨æˆå‘˜å¯¹è±¡æ¥è®¡ç®—hashcodeå€¼ï¼Œ  
       å¯¹äºä¸¤ä¸ªå¯¹è±¡æ¥è¯´hashcodeå¯èƒ½ç›¸åŒï¼Œæ‰€ä»¥equals()æ–¹æ³•ç”¨æ¥åˆ¤æ–­å¯¹è±¡çš„ç›¸ç­‰æ€§ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡ä¸åŒçš„è¯ï¼Œé‚£ä¹ˆè¿”å›false  
     2,HashMapæ˜¯å®ç°äº†Mapæ¥å£,å­˜å‚¨çš„æ˜¯key-valueå¯¹ï¼Œè€Œä¸”å…è®¸æœ‰ç©ºçš„keyæˆ–è€…valueï¼Œä¸å…è®¸æœ‰é‡å¤çš„keyä½†æ˜¯å…è®¸  
       æœ‰é‡å¤çš„value,HashMapä½¿ç”¨çš„æ˜¯ä½¿ç”¨keyæ¥è®¡ç®—hashcodeï¼›å…¶å®HashSetåº•å±‚æ˜¯ä½¿ç”¨HashMapå®ç°çš„ï¼Œåˆ©ç”¨HashMapçš„  
       keyä¸å…è®¸é‡å¤çš„ç‰¹æ€§æ¥å®ç°çš„ï¼›
       
![](https://ws3.sinaimg.cn/large/006tKfTcgy1g0wub3q225j30ym0hsjsd.jpg)

#### HashSetä¸HashMapæ€ä¹ˆåˆ¤æ–­é›†åˆå…ƒç´ é‡å¤ï¼Ÿ
     å› ä¸ºHashSetæ˜¯åŸºäºHashMapæ¥å®ç°çš„ï¼Œæ‰€ä»¥HashSetå’ŒHashMapéƒ½æ ¹æ®å¯¹è±¡çš„hashCodeå’Œequalsæ¥åˆ¤æ–­çš„ï¼Œå¦‚æœå¯¹è±¡å’Œ
     é›†åˆä¸­å…ƒç´ çš„hashcodeå’Œequalséƒ½ç›¸åŒï¼Œåˆ™è¯´æ˜æ˜¯é‡å¤å…ƒç´ ;

* TreeMapå…·ä½“å®ç°
* é›†åˆSetå®ç°Hashæ€ä¹ˆé˜²æ­¢ç¢°æ’
* ArrayListå’ŒLinkedListçš„åŒºåˆ«ï¼Œä»¥åŠåº”ç”¨åœºæ™¯
* æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«
* äºŒå‰æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†çš„å…·ä½“å®ç°
* å †çš„ç»“æ„
* å †å’Œæ ‘çš„åŒºåˆ«
* å †å’Œæ ˆåœ¨å†…å­˜ä¸­çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ(è§£ç­”æç¤ºï¼šå¯ä»¥ä»æ•°æ®ç»“æ„æ–¹é¢ä»¥åŠå®é™…å®ç°æ–¹é¢ä¸¤ä¸ªæ–¹é¢å»å›ç­”)ï¼Ÿ
* ä»€ä¹ˆæ˜¯æ·±æ‹·è´å’Œæµ…æ‹·è´
* æ‰‹å†™é“¾è¡¨é€†åºä»£ç 
* è®²ä¸€ä¸‹å¯¹æ ‘ï¼ŒB+æ ‘çš„ç†è§£
* è®²ä¸€ä¸‹å¯¹å›¾çš„ç†è§£
* åˆ¤æ–­å•é“¾è¡¨æˆç¯ä¸å¦ï¼Ÿ
* é“¾è¡¨ç¿»è½¬ï¼ˆå³ï¼šç¿»è½¬ä¸€ä¸ªå•é¡¹é“¾è¡¨ï¼‰
* åˆå¹¶å¤šä¸ªå•æœ‰åºé“¾è¡¨ï¼ˆå‡è®¾éƒ½æ˜¯é€’å¢çš„ï¼‰


### å››ã€çº¿ç¨‹ã€å¤šçº¿ç¨‹å’Œçº¿ç¨‹æ± 

#### å¼€å¯çº¿ç¨‹çš„ä¸‰ç§æ–¹å¼ï¼Ÿ
    ç»§æ‰¿Thread: å®šä¹‰ä¸€ä¸ªç»§æ‰¿Theadç±»çš„å­ç±»ï¼Œå­ç±»é‡å†™Threadçš„runæ–¹æ³•ï¼Œç„¶åå®ä¾‹åŒ–å­ç±»åˆ›å»ºå‡ºçº¿ç¨‹å¯¹è±¡ï¼Œç„¶åè°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()å¼€å¯çº¿ç¨‹;    
    å®ç°Runnable: å®šä¹‰ä¸€ä¸ªå®ç°Runnableçš„å®ç°ç±»ï¼Œå®ç°ç±»é‡å†™Runnableçš„runæ–¹æ³•ï¼Œç„¶åå®ä¾‹å‡ºå­ç±»å³çº¿ç¨‹å¯¹è±¡ï¼Œç„¶åè°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„start()å¼€å¯çº¿ç¨‹;    
    ä½¿ç”¨Callableå’ŒFuture: å®šä¹‰ä¸€ä¸ªå®ç°Runnableçš„å®ç°ç±»ï¼Œå®ç°ç±»é‡å†™Callableçš„call()æ–¹æ³•,call()æ–¹æ³•å¯ä»¥æœ‰è¿”å›å€¼,åˆ›å»ºFutureTaskå¯¹è±¡ï¼Œ  
    å®ä¾‹å‡ºå®ç°ç±»ï¼Œç”¨FutureTaskå¯¹è±¡åŒ…è£…å®ä¾‹å‡ºçš„å®ç°ç±»ï¼ŒFutureTaskå°è£…äº†Callableçš„call()çš„è¿”å›å€¼;é€šè¿‡new Thread(future).startçš„æ–¹å¼å¯åŠ¨çº¿ç¨‹;
   

#### çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ
    1,è¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•å…ƒï¼›  
    2,è€Œçº¿ç¨‹æ˜¯è¿›ç¨‹çš„å®ä½“ï¼Œæ˜¯cpuèµ„æºåˆ†é…å’Œè°ƒåº¦çš„æœ€å°å•å…ƒï¼Œçº¿ç¨‹æœ¬èº«ä¸æ‹¥æœ‰èµ„æºï¼Œå®ƒåªæ‹¥æœ‰ä¸€äº›è¿è¡Œæ—¶æ‰€éœ€è¦çš„èµ„æºï¼ˆå¯„å­˜å™¨ï¼Œæ ˆï¼Œç¨‹åºè®¡æ•°å™¨ç­‰ï¼‰,  
      å®ƒå¯ä¸åŒå±åŒä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„æ‰€æœ‰èµ„æº;  
    3,è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„æ“ä½œç³»ç»Ÿèµ„æºç®¡ç†æ–¹å¼ä¸åŒï¼Œè¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹æ­»æ‰ååœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹ï¼Œ   
      è€Œçº¿ç¨‹åªæ˜¯è¿›ç¨‹çš„ä¸åŒæ‰§è¡Œè·¯å¾„;  
    4,çº¿ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹çš„å †æ ˆå’Œå±€éƒ¨å˜é‡ï¼Œæ²¡æœ‰å•ç‹¬çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªçº¿ç¨‹æ­»æ‰åå°±ç­‰äºæ•´ä¸ªè¿›ç¨‹æ­»æ‰ï¼Œæ‰€ä»¥å¤šè¿›ç¨‹çš„ç¨‹åº  
    æ¯”å¤šçº¿ç¨‹çš„ç¨‹åºå¥å£®ï¼Œä½†æ˜¯è¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢ï¼Œè€—è´¹çš„èµ„æºæ›´å¤§æ•ˆç‡è¦å·®ï¼Œè€Œä¸”è¦åŒæ—¶å¯¹å…±äº«å˜é‡æ“ä½œæ˜¯åªèƒ½ç”¨çº¿ç¨‹ï¼Œä¸èƒ½ç”¨è¿›ç¨‹ï¼›   
    ç®€è¿°ï¼š  
    1ï¼Œä¸€ä¸ªç¨‹åºè‡³å°‘è¦æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘è¦æœ‰ä¸€ä¸ªçº¿ç¨‹;  
    2,çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦è¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ï¼›  
    3ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§çš„æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡;  
    4,æ¯ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æœ‰ç¨‹åºè¿è¡Œçš„å…¥å£ï¼Œé¡ºåºæ‰§è¡Œçš„åºåˆ—å’Œç¨‹åºè¿è¡Œçš„å‡ºå£,ä½†æ˜¯çº¿ç¨‹ä¸èƒ½ç‹¬ç«‹è¿è¡Œå¿…é¡»ä¾èµ–äºåº”ç”¨ç¨‹åºï¼Œç”±åº”ç”¨ç¨‹åºæä¾›å¤šä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ§åˆ¶;  
    5,ä»é€»è¾‘çš„è§’åº¦æ¥çœ‹ï¼Œå¤šçº¿ç¨‹çš„æ„ä¹‰åœ¨äºåœ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­æœ‰å¤šä¸ªæ‰§è¡Œéƒ¨åˆ†å¯ä»¥åŒæ—¶æ‰§è¡Œï¼Œä½†æ˜¯æ“ä½œç³»ç»Ÿå¹¶æ²¡æœ‰å°†å¤šä¸ªçº¿ç¨‹çœ‹åšæ˜¯å¤šä¸ªç‹¬ç«‹è¿è¡Œçš„åº”ç”¨ï¼Œæ¥
       å®ç°è¿›ç¨‹çš„çš„è°ƒåº¦ç®¡ç†å’Œèµ„æºåˆ†é…(è¿›ç¨‹å’Œçº¿ç¨‹çš„é‡è¦åŒºåˆ«);  
    ref:https://blog.csdn.net/mxsgoden/article/details/8821936

#### ä¸ºä»€ä¹ˆè¦æœ‰çº¿ç¨‹ï¼Œè€Œä¸æ˜¯ä»…ä»…ç”¨è¿›ç¨‹ï¼Ÿ
    ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿ   
    åº”ç”¨ç¨‹åºä¸èƒ½ç›´æ¥æ‰§è¡Œï¼Œå®ƒéœ€è¦è£…è½½åˆ°å†…å­˜ä¸­ï¼Œç³»ç»Ÿä¸ºå®ƒåˆ†é…èµ„æºï¼Œæ‰èƒ½è¿è¡Œï¼Œè€Œè¿™ç§æ‰§è¡Œçš„ç¨‹åºç§°ä¸ºè¿›ç¨‹ï¼›  
    ç¨‹åºå’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ  
    ç¨‹åºæ˜¯è¿è¡ŒæŒ‡ä»¤çš„é›†åˆï¼Œä»–æ˜¯è¿›ç¨‹è¿è¡Œçš„é™æ€æè¿°æ–‡ä»¶ï¼Œè€Œè¿›ç¨‹æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œæ´»åŠ¨ï¼Œæ˜¯åŠ¨æ€æ¦‚å¿µ;   
    è¿›ç¨‹çš„ç¼ºç‚¹:  
    1,è¿›ç¨‹åœ¨ä¸€æ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ï¼Œå¦‚æœæƒ³åŒæ—¶å¤šå¤šä»¶äº‹å°±æ— èƒ½ä¸ºåŠ›äº†ï¼›  
    2ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°é˜»å¡ï¼Œä¾‹å¦‚è¾“å…¥ç­‰å¾…ï¼Œä¸€æ—¦é˜»å¡ï¼Œé‚£ä¹ˆå…¶ä»–æ“ä½œä¹Ÿæ— æ³•è¿›è¡Œï¼Œå¯¼è‡´æ•´ä¸ªè¿›ç¨‹éƒ½è¦æŒ‚èµ·;  
    çº¿ç¨‹çš„ä¼˜ç‚¹:  
    1ï¼Œçº¿ç¨‹å¯ä»¥æé«˜è¿›ç¨‹çš„å¹¶å‘åº¦ï¼Œå¯ä»¥åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼›  
    2ï¼Œçº¿ç¨‹å¯ä»¥å¾ˆå¥½çš„åˆ©ç”¨è®¡ç®—æœºå¤šå¤„ç†å™¨å’Œå¤šæ ¸çš„ç‰¹æ€§ï¼Œä»è€Œæé«˜è¿›ç¨‹çš„è¿è¡Œæ•ˆç‡ï¼›  
    ref:https://blog.csdn.net/tongxinhaonan/article/details/42558561

#### run()å’Œstart()æ–¹æ³•åŒºåˆ«
    start():startæ–¹æ³•æ˜¯ç”¨æ¥å¯åŠ¨çº¿ç¨‹çš„ï¼Œå®ç°å¤šçº¿ç¨‹çš„è¿è¡Œçš„ï¼Œstart()æ–¹æ³•æ‰§è¡Œåï¼Œæ— éœ€ç­‰å¾…run()æ–¹æ³•é‡Œé¢çš„ä»£ç ä½“æ‰§è¡Œå®Œæ¯•è€Œç›´æ¥è¿è¡Œä¸‹é¢çš„ä»£ç ï¼Œ  
            é€šè¿‡Threadçš„start()æ–¹æ³•å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™æ—¶çº¿ç¨‹å¹¶æ²¡æœ‰è¿è¡Œï¼Œè€Œæ˜¯å¤„äºä¸€ä¸ªå¯è¿è¡ŒçŠ¶æ€ï¼Œä¸€æ—¦å¾—åˆ°cpuçš„æ—¶é—´ç‰‡ï¼Œå°±å¼€å§‹è¿è¡Œrunæ–¹æ³•é‡Œé¢  
            çš„ä»£ç ä½“ï¼Œrun()æ–¹æ³•åŒ…å«äº†è¿™ä¸ªçº¿ç¨‹è¦è¿è¡Œçš„å†…å®¹ï¼Œrun()æ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œè¿™ä¸ªçº¿ç¨‹ä¹Ÿå°±ç»ˆæ­¢äº†;    
    run():run()æ–¹æ³•åªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•è€Œå·²ï¼Œå¦‚æœç›´æ¥è¿è¡Œrun()æ–¹æ³•ï¼Œé‚£ä¹ˆè¿˜æ˜¯åªæœ‰ä¸»çº¿ç¨‹ä¸€ä¸ªçº¿ç¨‹è€Œå·²ï¼Œç¨‹åºè¦é¡ºåºæ‰§è¡Œï¼Œè¿˜æ˜¯è¦ç­‰run()æ–¹æ³•è¿è¡Œ  
          å®Œæ¯•ååœ¨æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œä¸è¿‡è¿™æ ·æ²¡è¾¾åˆ°å¤šçº¿ç¨‹çš„æ„ä¹‰;  
    ref:https://blog.csdn.net/dada360778512/article/details/6965790

#### å¦‚ä½•æ§åˆ¶æŸä¸ªæ–¹æ³•å…è®¸å¹¶å‘è®¿é—®çº¿ç¨‹çš„ä¸ªæ•°ï¼Ÿ  
     ä½¿ç”¨semaphore(ä¿¡å·é‡æ¥æ§åˆ¶å¹¶å‘è®¿é—®çº¿ç¨‹çš„ä¸ªæ•°),semaphoreå¯ä»¥åè°ƒå„ä¸ªçº¿ç¨‹ï¼Œä»¥ä¿è¯å®ƒä»¬å¯ä»¥æ­£ç¡®ï¼Œåˆç†çš„ä½¿ç”¨å…¬å…±èµ„æº;
     ref code:https://github.com/xingxingt/concurrent/tree/master/src/main/java/com/concurrent/concurrent/aqs

#### åœ¨Javaä¸­wait,yield,sleepå’Œjoinæ–¹æ³•çš„ä¸åŒï¼›
    sleep:éœ€è¦æŒ‡å®šç­‰å¾…çš„æ—¶é—´,sleepæ–¹æ³•å¯ä»¥è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹æš‚åœæ‰§è¡Œï¼Œè¿›å…¥é˜»å¡çŠ¶æ€ï¼Œè¯¥æ–¹æ³•å¯ä»¥è®©ä¸è¯¥çº¿ç¨‹åŒä¼˜å…ˆçº§æˆ–è€…é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹  
          å¾—åˆ°æ‰§è¡Œæœºä¼šï¼Œä¹Ÿå¯ä»¥è®©ä½ä¼˜å…ˆçº§çš„çº¿ç¨‹å¾—åˆ°æ‰§è¡Œæœºä¼š;ä½†æ˜¯sleepä¸ä¼šé‡Šæ”¾é”æ ‡å¿—ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®synchronizedåŒæ­¥ä»£ç å—ï¼Œé‚£ä¹ˆ  
          å…¶ä»–çº¿ç¨‹ä»ç„¶æ— æ³•è®¿é—®å…±äº«æ•°æ®;
    wait:wait()æ–¹æ³•å’Œnotify(),notifyall()æ–¹æ³•ä¸€èµ·ä½¿ç”¨ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•åè°ƒå¤šçº¿ç¨‹å¯¹å…±äº«æ•°æ®çš„å­˜å–ï¼Œæ‰€ä»¥è¿™ä¸‰ä¸ªæ–¹æ³•è¦åœ¨synchronizedä»£ç å—ä¸­ä½¿ç”¨,    
         ä¹Ÿå°±æ˜¯è¯´è°ƒç”¨wait()æ–¹æ³•å’Œnotify(),notifyall()ä¹‹å‰ï¼Œçº¿ç¨‹å¿…é¡»è·å–é”,è¿™ä¸‰ä¸ªæ–¹æ³•æ˜¯Objectå†…çš„æ–¹æ³•ï¼Œä¸æ˜¯Threadä¸­çš„æ–¹æ³•;    
         wait()å’Œsleep()çš„åŒºåˆ«åœ¨äºè¯¥æ–¹æ³•é‡Šæ”¾å¯¹è±¡çš„é”æ ‡å¿—,å½“æŸä¸ªå¯¹è±¡è°ƒç”¨waitæ–¹æ³•åä¼šæš‚åœå½“å‰çº¿ç¨‹çš„æ‰§è¡Œï¼Œå¹¶å°†å½“å‰çº¿ç¨‹æ”¾å…¥å¯¹è±¡ç­‰å¾…æ± ä¸­ï¼Œ  
         ç›´åˆ°è°ƒç”¨notify()æ–¹æ³•åæ‰å°†å¯¹è±¡ç­‰å¾…æ± ä¸­ä»»æ„ä¸€ä¸ªçº¿ç¨‹ç§»å‡ºå¹¶æ”¾å…¥é”æ ‡å¿—ç­‰å¾…æ± ä¸­ï¼Œé”æ ‡å¿—ç­‰å¾…æ± ä¸­çš„çº¿ç¨‹éšæ—¶å‡†å¤‡ç«äº‰é”çš„æ‹¥æœ‰æƒï¼Œå½“å¯¹è±¡  
         è°ƒç”¨notifyAll()æ–¹æ³•æ—¶ï¼Œä¼šå°†å¯¹è±¡ç­‰å¾…æ± ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½ç§»å…¥é”æ ‡å¿—ç­‰å¾…æ± ä¸­ï¼› 
         wait()ï¼Œnotify()åŠnotifyAll()åªèƒ½åœ¨synchronizedè¯­å¥ä¸­ä½¿ç”¨;      
    yield: yieldå’Œsleepç›¸ä¼¼,æš‚åœçº¿ç¨‹ä¹‹åä¸ä¼šé‡Šæ”¾é”æ ‡å¿—ï¼Œyieldåªä¼šè®©å½“å‰çº¿ç¨‹é‡æ–°å›åˆ°å¯æ‰§è¡Œçš„çŠ¶æ€ï¼Œæ‰€ä»¥é€šè¿‡yield()æ–¹æ³•ï¼Œçº¿ç¨‹å›åˆ°å¯æ‰§è¡ŒçŠ¶æ€å  
           åˆæœ‰å¯èƒ½è¿›å…¥å¯æ‰§è¡Œçš„çŠ¶æ€åé©¬ä¸Šæ‰§è¡Œï¼Œæ‰€ä»¥è¯´yield()æ˜¯ä¸å¯é çš„ï¼›å¦å¤–yeild()åªèƒ½ä½¿åŒä¼˜å…ˆçº§æˆ–è€…é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹å¾—åˆ°æ‰§è¡Œæœºä¼š;  
    join: ä¼šä½¿å½“å‰çº¿ç¨‹ç­‰å¾…è°ƒç”¨join()æ–¹æ³•çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ååœ¨æ‰§è¡Œ,æ’é˜Ÿ;  
       
    ref:https://blog.csdn.net/xiangwanpeng/article/details/54972952
        https://www.jianshu.com/p/25e959037eed
    
#### è°ˆè°ˆwait/notifyå…³é”®å­—çš„ç†è§£
    å¯ä»¥é€šè¿‡é…åˆè°ƒç”¨Objectå¯¹è±¡çš„waitï¼ˆï¼‰æ–¹æ³•å’Œnotifyï¼ˆï¼‰æ–¹æ³•æˆ–notifyAllï¼ˆï¼‰æ–¹æ³•æ¥å®ç°çº¿ç¨‹é—´çš„é€šä¿¡;   
    å…·ä½“çœ‹ä¸Šé¢˜; 
    
#### ä»€ä¹ˆå¯¼è‡´çº¿ç¨‹é˜»å¡ï¼Ÿ
     çº¿ç¨‹é˜»å¡çš„ç‰¹ç‚¹: çº¿ç¨‹é˜»å¡åè¯¥çº¿ç¨‹ä¼šè®©å‡ºcpuçš„ä½¿ç”¨æƒï¼Œæš‚åœè¿è¡Œï¼Œåªèƒ½ç­‰å¾…é˜»å¡çš„åŸå› æ¶ˆé™¤æ¢å¤æ­£å¸¸æ‰§è¡Œï¼Œæˆ–è€…æ˜¯è¯¥çº¿ç¨‹è¢«ä¸­æ–­ï¼Œ  
                   æŠ›å‡ºInterruptedExceptionå¼‚å¸¸ï¼Œè¯¥çº¿ç¨‹ä¹Ÿä¼šé€€å‡ºé˜»å¡çŠ¶æ€;  
     å¯¼è‡´çº¿ç¨‹é˜»å¡çš„åŸå› :   
                   1,è¯¥çº¿ç¨‹æ‰§è¡Œäº†Thread.sleep(time)æ–¹æ³•,ä½¿è¯¥çº¿ç¨‹è¿›å…¥ä¼‘çœ å¹¶æ”¾å¼ƒcpuçš„ä½¿ç”¨æƒï¼Œç­‰ä¼‘çœ æ—¶é—´åˆ°äº†å†æ¢å¤cpuçš„ä½¿ç”¨æƒ;  
                   2,çº¿ç¨‹æ‰§è¡ŒåŒæ­¥ä»£ç å—ï¼Œæœªè·å–åˆ°ç›¸å…³åŒæ­¥é”ï¼Œä»è€Œä½¿è¯¥çº¿ç¨‹å¤„äºç­‰å¾…é˜»å¡çŠ¶æ€ï¼Œç­‰åˆ°è·å–åˆ°åŒæ­¥é”åï¼Œå†æ¢å¤æ‰§è¡Œï¼›  
                   3,çº¿ç¨‹æ‰§è¡Œäº†ä¸€ä¸ªå¯¹è±¡çš„wait()æ–¹æ³•ï¼Œä½¿è¯¥çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œç­‰åˆ°å…¶ä»–çº¿ç¨‹æ‰§è¡Œäº†notify()åè€…notifyAll()æ–¹æ³•åæ‰èƒ½æ¢å¤æ‰§è¡Œ;  
                   4,çº¿ç¨‹æ‰§è¡Œä¸€äº›IOæ“ä½œï¼Œå› ä¸ºç­‰å¾…æŸäº›èµ„æºè€Œè¿›å…¥ç­‰å¾…é˜»å¡çŠ¶æ€ï¼Œä¾‹å¦‚ç­‰å¾…å®¢æˆ·ç«¯çš„è¾“å…¥...  
      ref:https://blog.csdn.net/sinat_22013331/article/details/45740641
      
#### çº¿ç¨‹å¦‚ä½•å…³é—­ï¼Ÿ
     1ï¼Œä½¿ç”¨æ ‡å¿—ä½,ä¾‹å¦‚å®šä¹‰ä¸€ä¸ªç”¨volatileä¿®é¥°çš„çŠ¶æ€ä¸º(ä¸ºäº†ä¿è¯çº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§)ï¼Œç„¶ååœ¨çº¿ç¨‹å¯åŠ¨åå®šæœŸæ£€æŸ¥è¿™ä¸ªçŠ¶æ€ä½ï¼Œå¦‚æœè¿™ä¸ªçŠ¶æ€ä½ä¸ºTrueäº†ï¼Œåˆ™  
        é©¬ä¸Šç»“æŸçº¿ç¨‹ï¼›è¿™ä¸ªæ–¹æ³•çš„å¼Šç«¯å°±æ˜¯å¦‚æœçº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹æ— æ³•è¿›è¡ŒçŠ¶æ€ä½çš„æ£€æŸ¥ï¼Œä»è€Œæ— æ³•åœæ­¢çº¿ç¨‹;  
     2,ä½¿ç”¨javaæä¾›çš„ä¸­æ–­æœºåˆ¶,interupte(),isInterrupted(),interrupted();å¯¹çº¿ç¨‹è°ƒç”¨interrupt()æ–¹æ³•ï¼Œä¸ä¼šçœŸæ­£ä¸­æ–­æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Œ  
       åªæ˜¯å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼Œç”±çº¿ç¨‹åœ¨åˆé€‚æ—¶å€™ç»“æŸè‡ªå·±ã€‚     
     3,ä½¿ç”¨Executoræ¡†æ¶,ExecutorServiceæ‰©å±•äº†Executorï¼ŒExecutorService.submit()ä¹‹åè¿”å›ä¸€ä¸ªfutureï¼Œå¯ä»¥ä½¿ç”¨future.cancle()æ¥ä¸­æ–­çº¿ç¨‹; 
     ref:https://www.jianshu.com/p/536b0df1fd55  
     code:https://github.com/xingxingt/concurrent/tree/master/src/main/java/com/concurrent/concurrent/thread
        
#### è®²ä¸€ä¸‹javaä¸­çš„åŒæ­¥çš„æ–¹æ³•
     ä¸ºä»€ä¹ˆè¦åŒæ­¥?    
     javaå…è®¸å¤šä¸ªçº¿ç¨‹å¹¶å‘æ§åˆ¶ï¼Œå½“å¤šä¸ªçº¿ç¨‹å¯¹ä¸€ä¸ªå…±äº«å˜é‡ä¿®æ”¹æ—¶ä¼šä½¿å…±äº«èµ„æºå˜é‡ä¸å‡†ç¡®ï¼Œæ‰€ä»¥é€šè¿‡åŒæ­¥é”çš„æ–¹æ³•ï¼Œä½¿ä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡è¿›è¡Œæ“ä½œçš„æ—¶å€™  
     ç¦æ­¢å…¶ä»–çº¿ç¨‹æ“ä½œï¼Œä»è€Œä¿è¯äº†è¯¥å˜é‡çš„å”¯ä¸€æ€§å’Œå‡†ç¡®æ€§ï¼›  
     åŒæ­¥æ–¹æ³•ï¼š  
     1ï¼Œä½¿ç”¨synchronizedå…³é”®å­—ä¿®é¥°çš„æ–¹æ³•ï¼›  
     2,ä½¿ç”¨synchronizedå…³é”®å­—ä¿®é¥°ä»£ç å—ï¼›  
     3,ä½¿ç”¨volatileä¿®é¥°çš„å˜é‡å®ç°çº¿ç¨‹åŒæ­¥ï¼Œä½†æ˜¯volatileä¿®é¥°çš„å˜é‡ä¸å…·å¤‡åŸå­æ€§å’Œçº¿ç¨‹å®‰å…¨æ€§;  
     4,ä½¿ç”¨é”æœºåˆ¶æ¥å®ç°çº¿ç¨‹åŒæ­¥ï¼Œä¾‹å¦‚ï¼šReentrantLock  
     5,ä½¿ç”¨å±€éƒ¨å˜é‡ThreadLocalå®ç°çº¿ç¨‹åŒæ­¥ï¼›   
     6,ä½¿ç”¨é˜»å¡é˜Ÿåˆ—å®ç°çº¿ç¨‹åŒæ­¥LinkedBlockingQueue;  
     7,ä½¿ç”¨åŸå­å˜é‡å®ç°çº¿ç¨‹åŒæ­¥,util.concurrent.atomicåŒ…ä¸‹çš„åŸå­å˜é‡;  
     ref:https://www.cnblogs.com/XHJT/p/3897440.html
    
#### æ•°æ®ä¸€è‡´æ€§å¦‚ä½•ä¿è¯ï¼Ÿ
     1ï¼ŒCASï¼›  
     2ï¼ŒFinalä¿®é¥°ä¸å¯å˜;  
     3,synchronizedï¼Œä¿®æ”¹ä»£ç å—æˆ–è€…æ–¹æ³•ï¼Œé€šè¿‡çº¿ç¨‹äº’æ–¥çš„æ–¹å¼å®ç°;  
     4,volatileä¿®é¥°,ä½†æ˜¯ä¸èƒ½ä¿è¯åŸå­æ€§;
     5,concurrent,lock,atomicåŒ…ä¸‹çš„å·¥å…·ç±»æ¥å®ç°ï¼›
     ref:https://www.cnblogs.com/jiumao/p/7136631.html

#### å¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ
    1ï¼Œäº’æ–¥åŒæ­¥ï¼š åŒæ­¥è¡¨ç¤ºå…±äº«å˜é‡åœ¨è¢«å¤šä¸ªçº¿ç¨‹è®¿é—®æ—¶ï¼Œä¿è¯å…±äº«å˜é‡åªè¢«ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œäº’æ–¥æ˜¯æ–¹æ³•ï¼ŒåŒæ­¥æ˜¯ç›®æ ‡ï¼Œä¾‹å¦‚synchronizedç­‰é”æœºåˆ¶ï¼›  
    2,éé˜»å¡åŒæ­¥ï¼Œéé˜»å¡åŒæ­¥æ˜¯å…ˆè¿›è¡Œæ“ä½œï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–çº¿ç¨‹äº‰ç”¨å…±äº«æ•°æ®ï¼Œé‚£æ“ä½œå°±æˆåŠŸï¼›å¦‚æœæ•°æ®æœ‰äº‰ç”¨ï¼Œäº§ç”Ÿäº†å†²çªï¼Œé‚£å°±é‡‡å–å…¶ä»–çš„è¡¥å¿æªæ–½ã€‚  
    3ï¼Œæ— åŒæ­¥æ–¹æ¡ˆï¼›  å¯¹äºä¸€ä¸ªæ–¹æ³•æœ¬æ¥å°±ä¸æ¶‰åŠå…±äº«æ•°æ®ï¼Œé‚£å°±è‡ªç„¶æ— é¡»åŒæ­¥æªæ–½æ¥ä¿è¯æ­£ç¡®æ€§ã€‚  
    ref:https://www.jianshu.com/p/fe7ed5b50933

#### å¦‚ä½•å®ç°çº¿ç¨‹åŒæ­¥ï¼Ÿ
    1,äº’æ–¥åŒæ­¥ï¼šåŒæ­¥æ˜¯ä¿è¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¹¶å‘çš„è®¿é—®åŒä¸€ä¸ªå…±äº«å˜é‡æ—¶ï¼ŒåŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿæ“ä½œå…±äº«å˜é‡;  äº’æ–¥æ˜¯æ–¹æ³•ï¼ŒåŒæ­¥æ˜¯ç›®çš„;  
      ä¾‹å¦‚ä½¿ç”¨:synchronizedå…³é”®å­—...   
    2,éé˜»å¡åŒæ­¥ï¼š äº’æ–¥çš„è¯ä¼šå¸¦æ¥çº¿ç¨‹é—´çš„é˜»å¡å’Œå”¤é†’ä»è€Œå½±å“æ€§èƒ½ï¼Œéé˜»å¡åŒæ­¥æ˜¯çœŸå…ˆè¿›æ€§æ“ä½œå…±äº«æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–çº¿ç¨‹ç«äº‰å…±äº«èµ„æºï¼Œé‚£å°±æ“ä½œ  
      æˆåŠŸï¼Œå¦‚æœæœ‰çº¿ç¨‹ç«äº‰å…±äº«èµ„æºï¼Œäº§ç”Ÿäº†å†²çªï¼Œé‚£ä¹ˆä¹…é‡‡ç”¨å…¶ä»–çš„è¡¥æ•‘æªæ–½ï¼›  
    3ï¼Œæ— åŒæ­¥æ–¹æ¡ˆï¼šå¯¹äºä¸€æ®µä»£ç ä¸æ¶‰åŠåˆ°å…±äº«èµ„æºï¼Œé‚£ä¹ˆä¹Ÿå°±æ— éœ€é‡‡ç”¨åŒæ­¥æªæ–½æ¥ä¿è¯æ­£ç¡®æ€§;     
    4,ä½¿ç”¨é‡å…¥é”å®ç°çº¿ç¨‹åŒæ­¥ï¼ˆReenreantLockï¼‰ï¼›  
    5,ä½¿ç”¨å±€éƒ¨å˜é‡å®ç°çº¿ç¨‹åŒæ­¥ ä½¿ç”¨ThreadLocalç®¡ç†å˜é‡;  
    6,ä½¿ç”¨ç‰¹æ®ŠåŸŸå˜é‡(volatile)å®ç°çº¿ç¨‹åŒæ­¥,ä½†å®ƒæ˜¯éåŸå­æ€§çš„ï¼›  
    7,ä½¿ç”¨é˜»å¡é˜Ÿåˆ—å®ç°çº¿ç¨‹åŒæ­¥,LinkedBlockingQueue;    
    8,ä½¿ç”¨åŸå­å˜é‡å®ç°çº¿ç¨‹åŒæ­¥util.concurrent.atomicåŒ…ä¸‹çš„;  
    ref:https://www.cnblogs.com/XHJT/p/3897440.html

#### ä¸¤ä¸ªè¿›ç¨‹åŒæ—¶è¦æ±‚å†™æˆ–è€…è¯»ï¼Œèƒ½ä¸èƒ½å®ç°ï¼Ÿå¦‚ä½•é˜²æ­¢è¿›ç¨‹çš„åŒæ­¥ï¼Ÿ
    1,å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶å¯¹æ–‡ä»¶è¿›è¡Œè¯»æ“ä½œ;  
    2,åªå…è®¸ä¸€ä¸ªå†™çº¿ç¨‹å¾€æ–‡ä»¶ä¸­å†™æ“ä½œ;  
    3,ä»»ä¸€å†™è€…åœ¨å®Œæˆå†™æ“ä½œä¹‹å‰ä¸å…è®¸å…¶ä»–è¯»è€…æˆ–å†™è€…å·¥ä½œ;  
    4,å†™è€…æ‰§è¡Œå†™æ“ä½œå‰ï¼Œåº”è®©å·²æœ‰çš„è¯»è€…å’Œå†™è€…å…¨éƒ¨é€€å‡ºã€‚   

#### çº¿ç¨‹é—´æ“ä½œList 
    å¤šçº¿å±‚æ“ä½œlistä¼šå‡ºç°å¦‚ä¸‹æƒ…å†µ:  
    å¦‚æœä¸€ä¸ªçº¿ç¨‹æ­£åœ¨éå†listï¼Œè€Œæ°å¥½å¦ä¸€ä¸ªçº¿ç¨‹å¯¹è¯¥liståšäº†removeæ“ä½œï¼Œé‚£ä¹ˆæ­¤æ—¶éå†listè¿‡ç¨‹ä¼šå‡ºç°ConcurrentModificationExceptionï¼›    
    è§£å†³åŠæ³•:   
    1,ä½¿ç”¨vectorï¼Œå¹¶åœ¨éå†è¯¥listçš„æ—¶å€™ä½¿ç”¨synchronized(list)æ¥åŠ é”ï¼Œä½¿åœ¨éå†listçš„æ—¶å€™ä¸è®©removeæ“ä½œæ‰§è¡Œï¼›  
    2,ä½¿ç”¨CopyOnWriteArrayList,copyOnWriteä¹Ÿå°±æ˜¯åœ¨å†™æ—¶è¿›è¡Œcopyï¼Œå½“å¯¹CopyOnWriteArrayListè¿›è¡Œä¿®æ”¹æ“ä½œæ—¶ï¼Œå®ƒé¦–å…ˆä¼šcopyä¸€ä»½æ–°çš„list  
      å¹¶åœ¨æ–°çš„listä¸Šåšä¿®æ”¹ï¼Œæœ€åå°†åŸlistçš„å¼•ç”¨æŒ‡å‘æ–°çš„listï¼›æ‰€ä»¥å¦‚æœä¸€ä¸ªçº¿ç¨‹åœ¨éå†listçš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯¹è¯¥liståšä¿®æ”¹æ“ä½œï¼Œå…¶å®æ˜¯åœ¨æ–°çš„list  
      ä¸Šåšçš„ä¿®æ”¹æ“ä½œï¼Œå¹¶ä¸ä¼šåº”è¯¥listçš„éå†æ“ä½œ;  
    3,ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„list.forEachï¼Œjava8çš„æ–°ç‰¹æ€§ï¼Œä¾‹å¦‚vectorçš„forEachæ–¹æ³•ï¼Œæ˜¯åœ¨è¯¥forEachä¸ŠåŠ äº†synchronizedå…³é”®å­—æ¥æ§åˆ¶çº¿ç¨‹å®‰å…¨çš„éå†;  
    ref:https://blog.csdn.net/xiao__gui/article/details/51050793 

#### javaå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ  
    1,åˆ›å»ºé˜¶æ®µï¼Œä¸€æ—¦æŸä¸ªå¯¹è±¡è¢«åˆ›å»ºåï¼Œå¹¶åˆ†é…ç»™æŸä¸ªå˜é‡èµ‹å€¼ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡å°±è¿›å…¥å¼•ç”¨é˜¶æ®µï¼›  
    2,åº”ç”¨é˜¶æ®µï¼Œå¯¹è±¡è‡³å°‘è¢«ä¸€ä¸ªå¼ºå¼•ç”¨æŒæœ‰ç€;  
    3,ä¸å¯è§é˜¶æ®µ,ç¨‹åºæœ¬èº«ä¸å¯¹è¯¥å¯¹è±¡æŒæœ‰ä»»ä½•å¼ºå¼•ç”¨ï¼Œè™½ç„¶è¯¥å¯¹è±¡çš„è¿™äº›å¼•ç”¨è¿˜å­˜åœ¨ç€ï¼Œå³ç¨‹åºçš„æ‰§è¡Œå·²ç»è¶…å‡ºäº†è¯¥å¯¹è±¡çš„ä½œç”¨åŸŸ(è¿™ç§æƒ…å†µç¼–è¾‘å™¨å°±èƒ½æ£€æŸ¥çš„å‡ºæ¥);  
    4,ä¸å¯è¾¾é˜¶æ®µï¼ŒæŒ‡è¯¥å¯¹è±¡ä¸ä¼šè¢«ä»»ä½•å¼ºå¼•ç”¨æ‰€æŒæœ‰;  
    5,æ”¶é›†é˜¶æ®µ,å½“å¯¹è±¡å·²ç»è¿›å…¥äº†ä¸å¯è¾¾é˜¶æ®µï¼Œå¹¶ä¸”åƒåœ¾æ”¶é›†å™¨å·²ç»ä¸ºè¯¥å¯¹è±¡é‡æ–°åˆ†é…çš„å†…å­˜ç©ºé—´ï¼Œåˆ™è¯¥å¯¹è±¡è¿›å…¥æ”¶é›†é˜¶æ®µï¼Œæ­¤é˜¶æ®µå¯ä»¥é€šè¿‡finalize()é€ƒé€¸,
      ä»æ–°è·å¾—å¼•ç”¨;
    6,å›æ”¶é˜¶æ®µ,å½“å¯¹è±¡ä»ç„¶å¤„äºä¸å¯è¾¾é˜¶æ®µï¼Œå¹¶ä¸”å·²ç»æ‰§è¡Œäº†finalized()æ–¹æ³•ï¼Œåˆ™è¯¥å¯¹è±¡è¿›å…¥å›æ”¶é˜¶æ®µ;  
    7,å¯¹è±¡ç©ºé—´é‡æ–°åˆ†é…,åƒåœ¾æ”¶é›†å™¨å¯¹è¯¥å¯¹è±¡çš„å†…å­˜ç©ºé—´è¿›è¡Œå›æ”¶æˆ–è€…é‡æ–°åˆ†é…ï¼Œè¯¥å¯¹è±¡å½»åº•æ¶ˆå¤±; 
    ref:https://blog.csdn.net/sodino/article/details/38387049
![](https://ws4.sinaimg.cn/large/006tKfTcgy1g14bvg072ij30uo0eu43j.jpg)    

#### javaå¯¹è±¡çš„å†…å­˜å¸ƒå±€
    åœ¨HotSpotä¸­å¯¹è±¡çš„å†…å­˜åˆ†å¸ƒåˆ†ä¸º3ä¸ªåŒºåŸŸï¼Œå¯¹è±¡å¤´ï¼Œå®ä¾‹æ•°æ®å’Œå¯¹é½å¡«å……;  
    å¯¹è±¡å¤´:æœ‰åˆ†ä¸ºä¸¤éƒ¨åˆ†å­˜å‚¨: 
       1,ä¸€éƒ¨åˆ†å­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼ŒåŒ…æ‹¬ï¼šhashç ï¼ŒGCåˆ†ä»£å¹´é¾„,é”çŠ¶æ€æ ‡å¿—ï¼Œçº¿ç¨‹æŒæœ‰çš„é”ï¼Œåå‘çº¿å±‚idï¼Œåå‘æ—¶é—´æˆ³ç­‰,è¿™éƒ¨åˆ†æ•°æ®ç§°ä¸º"Mark Word";  
       2,å¦ä¸€éƒ¨åˆ†å­˜å‚¨å¯¹è±¡çš„ç±»å‹æŒ‡é’ˆ,è¯¥æŒ‡é’ˆæŒ‡å‘å®ƒçš„ç±»å…ƒæ•°æ®çš„æŒ‡é’ˆï¼Œè™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹;    
    å®ä¾‹æ•°æ®:å­˜å‚¨çš„æ˜¯å¯¹è±¡çœŸæ˜¯çš„æœ‰æ•ˆä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡çš„ä»£ç ä¸­å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µå†…å®¹;   
    å¯¹é½å¡«å……:JVMè¦æ±‚å¯¹è±¡å¤§å°å¿…é¡»æ˜¯8çš„å€æ•°ï¼Œæ‰€ä»¥å½“å¯¹è±¡çš„å®ä¾‹æ•°æ®æ²¡æœ‰å¯¹é½æ—¶ï¼Œå°±éœ€è¦å¯¹é½å¡«å……æ¥è¡¥å…¨ï¼›  

#### ä»€ä¹ˆæ˜¯çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢
    ä¸Šä¸‹æ–‡åˆ‡æ¢çš„è¿‡ç¨‹:  
    CPUæ˜¯èƒ½å¤Ÿå¤„ç†å¤šä»»åŠ¡çš„ï¼Œå¤šä»»åŠ¡æ˜¯æŒ‡cpuèƒ½åŒæ—¶å¤„ç†ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„ç¨‹åºï¼›åœ¨å¤šä»»åŠ¡çš„å¤„ç†ç³»ç»Ÿä¸­ï¼Œcpuéœ€è¦å¤„ç†æ‰€æœ‰ç¨‹åºçš„æ“ä½œï¼Œå½“CPUæ¥å›åˆ‡æ¢ä»»åŠ¡  
    æ—¶éœ€è¦è®°å½•è¿™äº›ä»»åŠ¡æ‰§è¡Œåˆ°å“ªé‡Œäº†ï¼Œè¿™å°±æ˜¯ä¸Šä¸‹æ–‡çš„åˆ‡æ¢è¿‡ç¨‹ï¼Œå…è®¸cpuè®°å½•å¹¶æ¢å¤å„ç§ç¨‹åºçš„è¿è¡ŒçŠ¶æ€ï¼Œä½¿å®ƒèƒ½å¤Ÿå®Œæˆåˆ‡æ¢çŠ¶æ€;  
    ä¸Šä¸‹æ–‡åˆ‡æ¢:  
    æ“ä½œç³»ç»Ÿé€šè¿‡æ—¶é—´ç‰‡è½®è½¬çš„æ–¹æ³•ï¼Œcpuç»™æ¯ä¸ªä»»åŠ¡éƒ½æœåŠ¡ä¸€å®šçš„æ—¶é—´ï¼Œç„¶åæŠŠå½“å‰ä»»åŠ¡çš„çŠ¶æ€ä¿å­˜ä¸‹æ¥ï¼Œç„¶ååŠ è½½ä¸‹ä¸€ä¸ªä»»åŠ¡çš„çŠ¶æ€ï¼Œç»§ç»­ä¸ºä¸‹ä¸€ä¸ªä»»åŠ¡æœåŠ¡ï¼Œ  
    ä»»åŠ¡çš„ä¿å­˜å’ŒåŠ è½½çš„è¿‡ç¨‹å°±æ˜¯çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢
    ref:https://juejin.im/post/5b10e53b6fb9a01e5b10e9be

#### javaçš„ä¹è§‚é”å’Œæ‚²è§‚é”
    ä¹è§‚é”ï¼šä¹è§‚é”æ˜¯ä¸€ç§ä¹è§‚æ€æƒ³ï¼Œå³è®¤ä¸ºè¯»å¤šå†™å°‘ï¼Œé‡åˆ°å¹¶å‘çš„å¯èƒ½æ€§ä½ï¼Œæ¯æ¬¡æ‹¿æ•°æ®çš„æ—¶å€™éƒ½ä»»åŠ¡åˆ«äººä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯æ›´æ–°çš„æ—¶å€™ä¼šåˆ¤æ–­  
           ä¸€ä¸‹æ•°æ®æ˜¯å¦è¢«åˆ«äººä¿®æ”¹è¿‡ï¼Œå³è¯»å–å‡ºå½“å‰çš„ç‰ˆæœ¬å·ï¼Œç„¶ååŠ é”ï¼Œå†å¯¹æ¯”æ—§çš„ç‰ˆæœ¬å·ï¼Œå¦‚æœç‰ˆæœ¬å·ä¸€ç›´åˆ™è®¤ä¸ºè¯¥æ•°æ®æ²¡è¢«ä¿®æ”¹ç„¶åæ›´æ–°ï¼Œå¦‚æœä¸  
           ä¸€è‡´åˆ™é‡å¤è¯»å–-æ¯”è¾ƒ-æ›´æ–°;  javaçš„ä¹è§‚é”æ˜¯é€šè¿‡CASæ¥å®ç°çš„ï¼›
    æ‚²è§‚é”: æ‚²è§‚é”åˆ™æ˜¯ä¸€ç§æ‚²è§‚æ€æƒ³ï¼Œæ€»è®¤ä¸ºå†™å¤šï¼Œé‡åˆ°é«˜å¹¶å‘çš„å¯èƒ½æ€§é«˜ï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™æ€»ä»»åŠ¡åˆ«äººä¼šä¿®æ”¹æ•°æ®ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ä¼šä¸Šé”ï¼Œè¿™æ ·åˆ«äºº  
           å»æ‹¿æ•°æ®çš„æ—¶å€™æ€»ä¼šè¢«é˜»å¡ä¸€ç›´ç­‰åˆ°è·å–åˆ°é”ï¼Œjavaä¸­çš„æ‚²è§‚é”æ˜¯Synchronizedï¼› AQSä¸‹çš„é”å…ˆç”¨ä¹è§‚é”CASå°è¯•è·å–é”ï¼Œå¦‚æœè·å–ä¸åˆ°åˆ™è½¬ä¸º  
           æ‚²è§‚é”ï¼Œå¦‚ReetranLock;

#### åå‘é”ï¼Œè‡ªæ—‹é”ï¼Œè½»é‡çº§é”ï¼Œé‡é‡çº§é”
    åå‘é”:  
         åå‘é”çš„ä½¿ç”¨åœºæ™¯æ˜¯åœ¨æ— å¤šçº¿ç¨‹ç«äº‰é”çš„æƒ…å†µï¼›å³åœ¨è¿è¡Œä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿è¡Œæ— å¹¶å‘æƒ…å†µï¼Œå°±ä¼šç»™çº¿ç¨‹æ·»åŠ ä¸€ä¸ªåå‘é”; å¦‚æœåœ¨è¿è¡Œä¸­é‡åˆ°äº†å…¶ä»–çº¿ç¨‹  
         æŠ¢å é”ï¼Œåˆ™æŒæœ‰åå‘é”çš„çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œjvmä¼šæŠŠæ­¤åå‘é”æ¶ˆé™¤ï¼Œè½¬æ¢ä¸ºè½»é‡çº§é”ï¼›   
         åå‘é”çš„è·å–è¿‡ç¨‹ï¼š  
         1ï¼Œå…ˆåˆ¤æ–­å¯¹è±¡çš„å¯¹è±¡å¤´éƒ¨çš„Mark WordåŒºåŸŸçš„é”æ ‡å¿—æ˜¯å¦ä¸º1ï¼Œåå‘é”æ ‡å¿—æ˜¯å¦ä¸º01;  
         2,å¦‚æœå¼€å¯äº†åå‘é”ï¼Œåˆ™åˆ¤æ–­å¯¹è±¡å¤´éƒ¨è®°å½•çš„çº¿ç¨‹idæ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹ï¼Œå¦‚æœæ˜¯åˆ™è¿›å…¥åŒæ­¥ä»£ç å—ä¸­ï¼Œå¦‚æœä¸æ˜¯åˆ™è¿›å…¥ä¸‹ä¸€æ­¥;  
         3,å¦‚æœå½“å‰çº¿ç¨‹æœªè·å–åˆ°é”èµ„æºï¼Œåˆ™é€šè¿‡CASç«äº‰é”ï¼Œå¦‚æœè·å–æˆåŠŸåˆ™å°†Mark Workä¸­çš„çº¿ç¨‹IDä¿®æ”¹ä¸ºå½“å‰çº¿ç¨‹çš„çº¿ç¨‹IDï¼Œç„¶åæ‰§è¡ŒåŒæ­¥ä»£ç å—ï¼Œ  
           å¦‚æœè·å–å¤±è´¥ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€æ­¥;  
         4,å¦‚æœé€šè¿‡CASè·å–é”å¤±è´¥ï¼Œåˆ™è¡¨ç¤ºæœ‰çº¿ç¨‹ç«äº‰å½“å‰é”ï¼Œå½“çº¿ç¨‹è¿›å…¥å®‰å…¨ç‚¹(safePoint)çš„æ—¶å€™æŒ‚èµ·å½“å‰çº¿ç¨‹ï¼Œåå‘é”å‡çº§ä¸ºè½»é‡çº§é”ï¼Œç„¶åè¢«é˜»å¡åœ¨  
           å®‰å…¨ç‚¹çš„çº¿ç¨‹ç»§ç»­æ‰§è¡Œä¸‹é¢çš„åŒæ­¥ä»£ç å—(å› ä¸ºè¿™ä¸ªæ—¶å€™è‚¯å®šæ˜¯å·²ç»è·å–åˆ°äº†é”åœ¨æ‰§è¡ŒåŒæ­¥ä»£ç å—çš„æ—¶å€™å‡ºç°äº†å…¶ä»–çº¿ç¨‹ç«äº‰é”ï¼›æ³¨æ„:æ’¤é”€åå‘é”çš„
           æ—¶å€™ä¼šè§¦å‘Stop the Worldï¼‰;  
                    
    è‡ªæ—‹é”:
         å¦‚æœè·å–é”çš„çº¿ç¨‹åœ¨çŸ­æ—¶é—´å†…å¯ä»¥é‡Šæ”¾é”èµ„æºï¼Œé‚£ä¹ˆå…¶ä»–ç­‰å¾…è·å–é”èµ„æºçš„çº¿ç¨‹å°±æ²¡å¿…è¦è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œè€Œæ˜¯é€šè¿‡è‡ªæ—‹çš„æ–¹å¼ç­‰å¾…è·å–é”çš„é”èµ„æºï¼Œä»è€Œ  
         é¿å…äº†å†…æ ¸æ€å’Œç”¨æˆ·æ€çš„æ¥å›åˆ‡æ¢çš„æ¶ˆè€—ï¼›è‡ªæ—‹é”æ˜¯éœ€è¦æ¶ˆè€—cpuçš„ï¼Œåˆ©ç”¨cpuåšæ— ç”¨åŠŸçš„æ–¹å¼æ¥å®ç°è‡ªæ—‹ï¼›å¦‚æœè‡ªæ—‹æ—¶é—´è¶…è¿‡äº†è®¾å®šçš„æœ€å¤§æ—¶é—´ï¼Œåˆ™åœæ­¢  
         è‡ªæ—‹è¿›å…¥é˜»å¡çŠ¶æ€(jdk1.7è‡ªæ—‹é”çš„æœ€å¤§æ—¶é—´ç”±JVMæ§åˆ¶)ï¼›    
   
    è½»é‡çº§é”:  
         è½»é‡çº§é”ä¹Ÿæ˜¯åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹æ— é”ç«äº‰çš„æƒ…å†µä¸‹ä½¿ç”¨;  
         è½»é‡çº§é”æ˜¯ç”±åå‘é”è½¬æ¢è€Œæ¥çš„ï¼Œå½“æŒæœ‰åå‘é”çš„çº¿ç¨‹é‡åˆ°æœ‰å…¶ä»–çº¿ç¨‹ç«äº‰é”èµ„æºçš„æ—¶,åˆ™ä¼šå°†åå‘é”å‡çº§ä¸ºè½»é‡çº§é”;  
         åŠ é”è¿‡ç¨‹:  
         1,åœ¨çº¿ç¨‹è¿›å…¥åŒæ­¥ä»£ç å—çš„æ—¶å€™ï¼Œå…ˆåˆ¤æ–­å¯¹è±¡å¤´çš„é”çŠ¶æ€ï¼Œå¦‚æœæ­¤æ—¶çš„é”çŠ¶æ€ä½æ˜¯01,æ˜¯å¦ä¸ºåå‘é”çŠ¶æ€ä¸º0ï¼Œåˆ™åœ¨æ­¤çº¿ç¨‹çš„æ ˆå¸§ä¸­å»ºä¸€ä¸ªé”è®°å½•  
         (Lock Record)ç©ºé—´ç”¨äºå­˜å‚¨å¯¹è±¡å¤´çš„Mark Wordï¼›  
         2,å°†å¯¹è±¡å¤´çš„Mark Wordæ‹·è´åˆ°çº¿ç¨‹æ ˆçš„Lock Recordä¸­ï¼›  
         3,copyæˆåŠŸåï¼Œä½¿ç”¨CASæ“ä½œå°†å¯¹è±¡çš„Mark WordæŒ‡å‘Lock Recordçš„æŒ‡é’ˆï¼Œå¹¶å°†Lock Recordä¸­çš„OwneræŒ‡å‘Objectçš„Mark Wordï¼›  
         4,å¦‚æœç¬¬ä¸‰æ­¥æ›´æ–°æˆåŠŸäº†ï¼Œåˆ™è¡¨ç¤ºå½“å‰çº¿ç¨‹è·å–çš„å¸¦å¯¹è±¡çš„é”ï¼Œå¹¶å°†è¯¥å¯¹è±¡çš„Mark Wordä¸­çš„é”æ ‡å¿—ç½®ä½00ä»£è¡¨å½“å‰æ˜¯è½»é‡çº§é”ï¼›  
         5,å¦‚æœç¬¬ä¸‰éƒ¨æ›´æ–°å¤±è´¥ï¼Œåˆ™å…ˆæ£€æŸ¥å¯¹è±¡çš„Mark WordæŒ‡å‘çš„æŒ‡é’ˆæ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹æ ˆï¼Œå¦‚æœæ˜¯åˆ™è¡¨æ˜å½“å‰çº¿ç¨‹å·²ç»è·å–åˆ°äº†é”èµ„æºç›´æ¥è¿›å…¥åŒæ­¥ä»£ç å—å³å¯ï¼›  
           å¦‚æœä¸æ˜¯å½“å‰çº¿ç¨‹åˆ™è¡¨ç¤ºæœ‰å¤šä¸ªçº¿ç¨‹åœ¨ç«äº‰é”èµ„æºï¼Œè½»é‡çº§é”è¦è†¨èƒ€ä¸ºé‡é‡çº§é”ï¼Œå¯¹è±¡å¤´çš„é”æ ‡å¿—å˜ä¸º10(è¡¨ç¤ºä¸ºé‡é‡çº§é”)ï¼Œåé¢çš„çº¿ç¨‹åˆ™å¤„äºé˜»å¡ç­‰  
           å¾…çŠ¶æ€ï¼Œå½“å‰çº¿ç¨‹åˆ™è‡ªæ—‹è·å–é”ï¼›  
         
     é‡é‡çº§é”ï¼šè§ä¸‹é¢ï¼šSynchronizedğŸ‘‡    
     ref:https://blog.csdn.net/zqz_zqz/article/details/70233767  
         https://blog.csdn.net/u012465296/article/details/53022317  
![](https://ws3.sinaimg.cn/large/006tKfTcgy1g162tj8p6rj30xe0ke75v.jpg)         

#### Synchronizedç”¨æ³•
     Synchroniedä¿è¯äº†åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹æ–¹æ³•æˆ–è€…ä»£ç å—åœ¨åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿè¿›å…¥(äº’æ–¥æ€§),åŒæ—¶å®ƒè¿˜èƒ½ä¿è¯å…±äº«å˜é‡çš„å¯è§æ€§;  
     javaçš„æ¯ä¸ªæ–¹æ³•éƒ½å¯ä»¥ä½œä¸ºé”ï¼š  
         1,ä½œç”¨äºæ™®é€šæ–¹æ³•ï¼Œé”æ˜¯å½“å‰å®ä¾‹å¯¹è±¡ï¼›  
         2,ä½œç”¨äºé™æ€æ–¹æ³•ï¼Œé”æ˜¯å½“å‰ç±»çš„classå¯¹è±¡;å½“ä½œç”¨äºé™æ€æ–¹æ³•æ—¶ï¼Œé”ä½çš„æ˜¯Classå®ä¾‹ï¼Œåˆå› ä¸ºClassçš„ç›¸å…³æ•°æ®å­˜å‚¨åœ¨æ°¸ä¹…å¸¦PermGenï¼ˆ   
                       jdk1.8åˆ™æ˜¯metaspaceï¼‰ï¼Œæ°¸ä¹…å¸¦æ˜¯å…¨å±€å…±äº«çš„ï¼Œå› æ­¤é™æ€æ–¹æ³•é”ç›¸å½“äºç±»çš„ä¸€ä¸ªå…¨å±€é”ï¼Œä¼šé”æ‰€æœ‰è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹ï¼›      
         3,åŒæ­¥ä»£ç å—ï¼Œé”æ˜¯æ‹¬å·ä¸­çš„å¯¹è±¡;  
     ref:http://www.51gjie.com/java/727.html    
     refcode:https://github.com/xingxingt/concurrent/tree/master/src/main/java/com/concurrent/concurrent/sync      

#### synchronizeçš„åŸç†
     é¦–å…ˆSynchronizedæ˜¯é‡é‡çº§é”;    
     1,æ£€æµ‹å¯¹è±¡å¤´ä¸­çš„Mark Wordä¸­å­˜æ”¾çš„çº¿ç¨‹idæ˜¯å¦ä¸ºæœ¬çº¿ç¨‹ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¡¨æ˜è¯¥çº¿ç¨‹è·å–äº†åå‘é”;  
     2,å¦‚æœä¸æ˜¯,åˆ™ä½¿ç”¨CASå°†Mark Wordä¸­çº¿ç¨‹IDæ›¿æ¢ä¸ºæœ¬çº¿ç¨‹çš„ID,å¦‚æœCASæ“ä½œæˆåŠŸåˆ™è·å–äº†åå‘é”ï¼Œè¿›å…¥åŒæ­¥ä»£ç å—,å¦åˆ™ä¸‹ä¸€æ­¥;  
     3,å¦‚æœè¯¥çº¿ç¨‹çš„CASæ“ä½œå¤±è´¥ï¼Œåˆ™è¡¨ç¤ºæœ‰çº¿ç¨‹ç«äº‰è¯¥é”ï¼Œåˆ™éœ€è¦æ’¤é”€åå‘é”ï¼Œå‡çº§ä¸ºè½»é‡çº§é”;  
     4,å½“å‰çº¿ç¨‹æŠŠMark Wordæ›¿æ¢ä¸ºé”è®°å½•æŒ‡é’ˆï¼Œå¦‚æœæ›¿æ¢æˆåŠŸåˆ™å½“å‰çº¿ç¨‹è·å–é”;  
     5,å¦‚æœè·å–å¤±è´¥åˆ™è¡¨ç¤ºæœ‰å…¶ä»–çº¿ç¨‹ç«äº‰é”ï¼Œåˆ™é€šè¿‡è‡ªæ—‹çš„æ–¹å¼è·å–é”ï¼›  
     6ï¼Œå¦‚æœé€šè¿‡è‡ªæ—‹è·å–é”æˆåŠŸåˆ™è¯¥çº¿ç¨‹ä¾ç„¶æŒæœ‰è½»é‡çº§é”ï¼›  
     7ï¼Œå¦‚æœè‡ªæ—‹å¤±è´¥åˆ™å‡çº§ä¸ºé‡é‡çº§é”;  
     è¿™äº›æ“ä½œéƒ½æ˜¯ç”±JVMå†…éƒ¨å®ç°ï¼Œå½“ä½¿ç”¨Synchronizedæ—¶ï¼ŒJVMä¼šæ ¹æ®å¯ç”¨é”å’Œå½“å‰çº¿ç¨‹çš„ç«äº‰æƒ…å†µæ¥å†³å®šå¦‚ä½•æ‰§è¡ŒåŒæ­¥æ“ä½œ;    
     åœ¨æ‰€æœ‰çš„é”éƒ½å¯ç”¨çš„æƒ…å†µä¸‹çº¿ç¨‹è¿›å…¥ä¸´ç•ŒåŒºæ—¶ä¼šå…ˆå»è·å–åå‘é”ï¼Œå¦‚æœå·²ç»å­˜åœ¨åå‘é”äº†ï¼Œåˆ™ä¼šå°è¯•è·å–è½»é‡çº§é”ï¼Œå¯ç”¨è‡ªæ—‹é”ï¼Œå¦‚æœè‡ªæ—‹ä¹Ÿæ²¡æœ‰è·å–åˆ°é”ï¼Œ
     åˆ™ä½¿ç”¨é‡é‡çº§é”ï¼Œæ²¡æœ‰è·å–åˆ°é”çš„çº¿ç¨‹é˜»å¡æŒ‚èµ·ï¼Œç›´åˆ°æŒæœ‰é”çš„çº¿ç¨‹æ‰§è¡Œå®ŒåŒæ­¥å—å”¤é†’ä»–ä»¬ï¼›  
     ref:https://blog.csdn.net/zqz_zqz/article/details/70233767   
         https://www.jianshu.com/p/19f861ab749e  

#### è°ˆè°ˆå¯¹Synchronizedå…³é”®å­—ï¼Œç±»é”ï¼Œæ–¹æ³•é”ï¼Œé‡å…¥é”çš„ç†è§£
    refCode:https://github.com/xingxingt/concurrent/tree/master/src/main/java/com/concurrent/concurrent
            /sync/SynchronizedMethodAndCodes.java  
    ref:https://blog.csdn.net/le_le_name/article/details/52348314  


* static synchronized æ–¹æ³•çš„å¤šçº¿ç¨‹è®¿é—®å’Œä½œç”¨
* åŒä¸€ä¸ªç±»é‡Œé¢ä¸¤ä¸ªsynchronizedæ–¹æ³•ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®çš„é—®é¢˜

#### javaçš„å†…å­˜æ¨¡å‹
    å¼•å…¥:
    åŸå­æ€§ï¼šæ˜¯æŒ‡cpuçš„ä¸€ä¸ªæ“ä½œï¼Œè¦ä¹ˆæ‰§è¡Œå®Œï¼Œè¦ä¹ˆä¸æ‰§è¡Œï¼Œä¸å¯ä¸­é€”æš‚åœç„¶åå†è°ƒåº¦;    
    å¯è§æ€§ï¼šæŒ‡å¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå˜é‡ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†è¯¥å˜é‡ï¼Œå…¶ä»–çº¿ç¨‹åº”è¯¥ç«‹å³èƒ½çœ‹çš„åˆ°ä¿®æ”¹çš„å€¼;  
    æœ‰åºæ€§:æŒ‡ç¨‹åºçš„æ‰§è¡Œé¡ºåºæŒ‰ç…§ä»£ç çš„é¡ºåºå…ˆåæ‰§è¡Œ;  
    ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜å…¶å®å°±æ˜¯å¯è§æ€§é—®é¢˜ã€‚è€Œå¤„ç†å™¨ä¼˜åŒ–æ˜¯å¯ä»¥å¯¼è‡´åŸå­æ€§é—®é¢˜çš„ã€‚æŒ‡ä»¤é‡æ’å³ä¼šå¯¼è‡´æœ‰åºæ€§é—®é¢˜ã€‚ 
    ä¸ºäº†ä¿éšœå…±äº«å†…å­˜çš„æ­£ç¡®æ€§(åŸå­æ€§,å¯è§æ€§,æœ‰åºæ€§),å†…å­˜æ¨¡å‹å®šä¹‰å…±äº«å†…å­˜ç³»ç»Ÿä¸­å¤šçº¿ç¨‹è¯»å†™æ“ä½œçš„è§„èŒƒï¼› 
    java(JMM)å†…å­˜æ¨¡å‹:  
    javaå†…å­˜æ¨¡å‹æ˜¯ä¸€ç§è§„èŒƒï¼Œå®ƒè§„å®šäº†ä¸€ä¸ªçº¿ç¨‹å¦‚ä½•å’Œæ ¸å®è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹è¿‡çš„å…±äº«å˜é‡çš„å€¼,ä»¥åŠå¦‚ä½•åŒæ­¥çš„è®¿é—®å…±äº«å˜é‡;    
    è¦æ±‚æœ¬åœ°å˜é‡å’Œå¯¹åº”æ ˆå­˜æ”¾åœ¨çº¿ç¨‹æ ˆä¸Šï¼Œå¯¹è±¡å­˜æ”¾åœ¨å †ä¸Šï¼Œçº¿ç¨‹ä¹‹é—´çš„é€šä¿¡å¿…é¡»ç»è¿‡ä¸»å†…å­˜ï¼›(Javaå†…å­˜æ¨¡å‹è§„å®šäº†æ‰€æœ‰çš„     
    å˜é‡éƒ½å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯æ¡çº¿ç¨‹è¿˜æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ä¿å­˜äº†è¯¥çº¿ç¨‹ä¸­æ˜¯ç”¨åˆ°çš„å˜é‡çš„ä¸»å†…å­˜å‰¯æœ¬æ‹·è´ï¼Œ  
    çº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æ¥è¯»å†™ä¸»å†…å­˜ã€‚ä¸åŒçš„çº¿ç¨‹ä¹‹é—´ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®å¯¹æ–¹å·¥ä½œå†…å­˜ä¸­  
    çš„å˜é‡ï¼Œçº¿ç¨‹é—´å˜é‡çš„ä¼ é€’å‡éœ€è¦è‡ªå·±çš„å·¥ä½œå†…å­˜å’Œä¸»å­˜ä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥è¿›è¡Œ;)
    ref:https://www.hollischuang.com/archives/2550
![](https://ws2.sinaimg.cn/large/006tKfTcgy1g0szp0qn1vj30u40hsgn9.jpg)    
    

#### javaå†…å­˜å±éšœ
    å†…å­˜å±éšœ(Memory Barrier)åˆç§°å†…å­˜æ …æ ï¼Œæ˜¯ä¸€ä¸ªcpuæŒ‡ä»¤ï¼Œç‰¹ç‚¹:  
    1,ä¿è¯ç‰¹å®šæ“ä½œçš„æ‰§è¡Œé¡ºåºï¼›  
    2ï¼Œå½±å“æŸäº›æ•°æ®çš„å¯è§æ€§ï¼›  
    ç¼–è¯‘å™¨å’Œcupèƒ½å¤Ÿé‡æ’åºæŒ‡ä»¤ï¼Œä¿è¯æœ€åç›¸åŒçš„ç»“æœï¼Œæé«˜æ€§èƒ½ï¼Œä½†æ˜¯å¦‚æœæ’å…¥ä¸€æ¡Memory Barrierä¼šå‘Šè¯‰ç¼–è¯‘å™¨å’Œcpu  
    ä¸ç®¡ä»€ä¹ˆæŒ‡ä»¤éƒ½ä¸èƒ½å’Œè¿™æ¡Memory Barrierè¿›è¡Œé‡æ’åº;  
    å†…å­˜å±éšœè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹ç‚¹æ˜¯å¯ä»¥å¼ºåˆ¶åˆ·å‡ºcpuçš„å„ç§cache(ä¸»å­˜)ï¼Œæ¯”å¦‚è¯»å–å±éšœçš„æ“ä½œï¼Œå°†ä¼šå¼ºåˆ¶ä»cpuçš„cacheæ€»è¯»å–(ä¸»å­˜);
    volatileçš„å®ç°å°±æ˜¯åŸºäºå†…å­˜å±éšœæ¥å®ç°çš„;
    
#### volatileçš„åŸç†
    volatileæ˜¯é€šè¿‡åŠ å…¥å†…å­˜å±éšœå’Œç¦æ­¢æŒ‡ä»¤é‡æ’åºä¼˜åŒ–æ¥å®ç°çš„ï¼›    
    volatileåœ¨å†™çš„æ“ä½œï¼Œåœ¨å†™æ“ä½œä¹‹ååŠ å…¥ä¸€ä¸ªstoreå±éšœæŒ‡ä»¤ï¼Œå°†æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­;  
    volatileåœ¨è¯»çš„æ“ä½œï¼Œåœ¨è¯»æ“ä½œä¹‹å‰åŠ ä¸€ä¸ªloadå±éšœæŒ‡ä»¤ï¼Œä»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡;  
![](https://ws3.sinaimg.cn/large/006tKfTcgy1g0sb3h62iij31180u077f.jpg)

#### happens-before
    å¦‚æœçº¿ç¨‹Aæ»¡è¶³çº¿ç¨‹Bçš„happens-beforeåŸåˆ™ï¼Œé‚£ä¹ˆçº¿ç¨‹Açš„æ‰§è¡ŒåŠ¨ä½œçš„ç»“æœå¯¹çº¿ç¨‹Bæ˜¯å¯è§çš„ï¼Œå¦‚æœä¸¤ä¸ªçº¿ç¨‹æœªæŒ‰ç…§happens-beforeåŸåˆ™  
    ï¼Œåˆ™JVMä¼šå¯¹ä»–ä»¬çš„æ‰§è¡Œé¡ºåºé‡æ–°æ’åº;

#### ä»€ä¹ˆæ˜¯CAS
    CASå³compare and swap(æ¯”è¾ƒå’Œäº¤æ¢);  
    CASçš„æ€æƒ³: CASä¼šä¼ å…¥ä¸‰ä¸ªå€¼ï¼Œå½“å‰å†…å­˜ä¸­çš„å€¼Vï¼Œæ—§çš„æœŸæœ›å€¼Aï¼Œå³å°†è¦æ›´æ–°çš„å€¼B,å½“ä¸”ä»…å½“æœŸæœ›å€¼Aå’Œå†…å­˜ä¸­çš„å€¼Vç›¸åŒæ—¶ï¼Œå°†å†…å­˜å€¼ä¿®æ”¹ä¸ºBï¼Œ
    å¹¶è¿”å›trueï¼Œå¦åˆ™ä»€ä¹ˆéƒ½ä¸åšï¼Œè¿”å›false;  
    CASé€šè¿‡javaçš„æœ¬åœ°æ–¹æ³•Unsafeæ¥å®ç°çš„ï¼Œjavaæ–¹æ³•æ— æ³•æ“ä½œåº•å±‚å†…å­˜ä¸­çš„æ•°æ®ï¼Œéœ€è¦é€šè¿‡æœ¬åœ°æ–¹æ³•æ¥è®¿é—®,è€ŒUnsafeå¯ä»¥ç›´æ¥æ“ä½œæŒ‡å®šå†…å­˜ä¸­æ•°æ®;
    CASçš„ç¼ºç‚¹:æœ‰ABAçš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡AtomicStampedReferenceæ¥è§£å†³;
    ref:https://www.jianshu.com/p/fb6e91b013cc
    
#### è°ˆè°ˆvolatileå…³é”®å­—çš„ç”¨æ³•
    volatileä¿è¯äº†ä¸åŒçº¿ç¨‹å¯¹è¯¥å˜é‡æ“ä½œçš„å¯è§æ€§;   
    ç¦æ­¢æŒ‡ä»¤é‡æ’åº;    
    æ‰€ä»¥volatileå…³é”®å­—åªæ˜¯ä¿è¯äº†JMMä¸­çš„å¯è§æ€§ï¼Œæœ‰åºæ€§ï¼Œå¹¶ä¸èƒ½ä¿è¯åŸå­æ€§ï¼›  
    ref:https://blog.csdn.net/hang1995/article/details/79417477
   
#### è°ˆè°ˆvolatileå…³é”®å­—çš„ä½œç”¨
    è¢«volatileä¿®é¥°çš„å˜é‡ï¼Œåœ¨æ¯æ¬¡è¯»å–çš„æ—¶å€™éƒ½æ˜¯è¯»å–ä¸»å­˜ä¸­çš„å˜é‡å€¼ï¼Œä¾‹å¦‚å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå¦‚æœæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šcopyä¸€ä»½å…±äº«å˜é‡åˆ°çº¿ç¨‹æ ˆä¸­ï¼Œå¦‚æœ  
    è¿™ä¸ªå…±äº«å˜é‡è¢«volatileä¿®é¥°ï¼Œé‚£ä¹ˆçº¿ç¨‹æ¯æ¬¡éƒ½ä¼šä»ä¸»å­˜ä¸­è¯»å–å˜é‡å€¼ï¼Œæ¯æ¬¡ä¿®æ”¹è¿‡åéƒ½ä¼šå°†ä¿®æ”¹åçš„å˜é‡å€¼å†™å›ä¸»å­˜ä¸­å»;  
    ref:https://www.cnblogs.com/aigongsi/archive/2012/04/01/2429166.html

* è°ˆè°ˆNIOçš„ç†è§£
* synchronized å’Œvolatile å…³é”®å­—çš„åŒºåˆ«
* synchronizedä¸Lockçš„åŒºåˆ«
* ReentrantLock ã€synchronizedå’Œvolatileæ¯”è¾ƒ
* ReentrantLockçš„å†…éƒ¨å®ç°
* lockåŸç†
* æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼Ÿ
* æ€ä¹ˆé¿å…æ­»é”ï¼Ÿ
* å¯¹è±¡é”å’Œç±»é”æ˜¯å¦ä¼šäº’ç›¸å½±å“ï¼Ÿ
* ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Œå¦‚ä½•ä½¿ç”¨?
* Javaçš„å¹¶å‘ã€å¤šçº¿ç¨‹ã€çº¿ç¨‹æ¨¡å‹
* è°ˆè°ˆå¯¹å¤šçº¿ç¨‹çš„ç†è§£
* å¤šçº¿ç¨‹æœ‰ä»€ä¹ˆè¦æ³¨æ„çš„é—®é¢˜ï¼Ÿ
* è°ˆè°ˆä½ å¯¹å¹¶å‘ç¼–ç¨‹çš„ç†è§£å¹¶ä¸¾ä¾‹è¯´æ˜
* è°ˆè°ˆä½ å¯¹å¤šçº¿ç¨‹åŒæ­¥æœºåˆ¶çš„ç†è§£ï¼Ÿ
* å¦‚ä½•ä¿è¯å¤šçº¿ç¨‹è¯»å†™æ–‡ä»¶çš„å®‰å…¨ï¼Ÿ
* å¤šçº¿ç¨‹æ–­ç‚¹ç»­ä¼ åŸç†
* æ–­ç‚¹ç»­ä¼ çš„å®ç°


### å¤šçº¿ç¨‹äºŒ
* CPUæ ¸å¿ƒæ•°ã€çº¿ç¨‹æ•°çš„å…³ç³»
* åœ¨CPUæ—¶é—´ç‰‡è½®è½¬æœºåˆ¶ä¸­è®¾ç½®å¤šå°‘æ¯«ç§’æ˜¯åˆç†çš„ï¼Ÿ
* ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿä¸€ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªçº¿ç¨‹ï¼Ÿ
* ç”¨æˆ·å•ä¸€è¿›ç¨‹åŒæ—¶å¯æ‰“å¼€æ–‡ä»¶æ•°é‡æ˜¯å¤šå°‘ï¼Ÿ
* ä»€ä¹ˆæ˜¯å¹¶è¡Œï¼Œä»€ä¹ˆæ˜¯å¹¶å‘ï¼Ÿ
* ä»€ä¹ˆæ˜¯åŒæ­¥ï¼Œä»€ä¹ˆæ˜¯å¼‚æ­¥ï¼Œä»€ä¹ˆæ˜¯å µå¡ï¼Œä»€ä¹ˆæ˜¯éå µå¡ï¼Ÿ
* å®ç°çº¿ç¨‹çš„ä¸‰ç§æ–¹å¼ï¼Ÿ
* çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆï¼Ÿçº¿ç¨‹æ± çš„åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ± é‡Œé¢çš„çº¿ç¨‹å¤„äºç”Ÿå‘½å‘¨æœŸçš„é‚£ä¸ªé˜¶æ®µï¼Ÿ
* ä»€ä¹ˆæ˜¯çº¿ç¨‹ç»„ï¼Ÿå…¶å·¦å³æ˜¯ä»€ä¹ˆï¼Ÿ
* ThreadLocalæ˜¯ç”¨æ¥è§£å†³å…±äº«èµ„æºçš„å¤šçº¿ç¨‹è®¿é—®çš„é—®é¢˜å—ï¼Ÿ

* æ¯æ¬¡ä½¿ç”¨å®ŒThreadLocalï¼Œéƒ½è°ƒç”¨å®ƒçš„remove()æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ
* volatileçš„ä½œç”¨ï¼Ÿ
* runæ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Ÿå¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œçº¿ç¨‹çš„çŠ¶æ€å¦‚ä½•ï¼Ÿ
* ä»€ä¹ˆæ˜¯éšå¼é”ï¼Ÿä»€ä¹ˆæ˜¯æ˜¾å¼é”ï¼Ÿä»€ä¹ˆæ˜¯æ— é”ï¼Ÿ
* å¤šçº¿ç¨‹ä¹‹é—´æ˜¯å¦‚ä½•é€šä¿¡çš„ï¼Ÿ
* Javaçš„å†…å­˜æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿ
* ä»€ä¹ˆæ˜¯åŸå­æ“ä½œï¼Ÿç”Ÿæˆå¯¹è±¡çš„è¿‡ç¨‹æ˜¯ä¸æ˜¯åŸå­æ“ä½œï¼Ÿ
* CopyOnWriteæœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ
* ä»€ä¹ˆæ˜¯CAS?
* ä»€ä¹ˆæ˜¯AQS?

* Fail-Fastæœºåˆ¶æ˜¯å¤šçº¿ç¨‹åŸå› é€ æˆçš„å—ï¼Ÿ
* ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼Ÿå¸¸è§çš„çº¿ç¨‹æ± æœ‰å“ªäº›ï¼Ÿ
* é˜»å¡é˜Ÿåˆ—çš„å¸¸ç”¨æ–¹æ³•ï¼Ÿ
* ä¸ºä»€ä¹ˆæ•°ç»„æ¯”é“¾è¡¨éšæœºè®¿é—®é€Ÿåº¦ä¼šå¿«å¾ˆå¤šå‘¢ï¼Ÿ
* ä»€ä¹ˆæ—¶å€™ç”¨å®šæ—¶å™¨ï¼Œä»€ä¹ˆæ—¶å€™ç”¨å»¶æ—¶é˜Ÿåˆ—ï¼Ÿ
* å µå¡é˜Ÿåˆ—çš„addï¼Œofferï¼Œputçš„åŒºåˆ«ï¼Ÿ
* çº¿ç¨‹çš„é˜»å¡ä¸æŒ‚èµ·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
* sleepçš„æ—¶å€™ï¼Œæ˜¯å¦ä¼šé‡Šæ”¾å·²ç»è·å¾—åˆ°é”ï¼Ÿ
* yieldçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
* joinçš„ä½œç”¨ï¼Ÿ

* sleepæ–¹æ³•å’Œyieldæ–¹æ³•çš„åŒºåˆ«ï¼Ÿ
* ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”ŸInterruptedExceptionå¼‚å¸¸ï¼Ÿ
* å¦‚ä½•è®¾è®¡ä¸€ä¸ªåˆ©ç”¨æ— é”æ¥å®ç°çº¿ç¨‹çš„å®‰å…¨ï¼Ÿ
* éšå¼é”ä»€ä¹ˆæƒ…å†µä¸‹ä¼šé‡Šæ”¾é”ï¼Ÿ
* æè¿°ä¸€ä¸‹å¯é‡å…¥çš„å®ç°æœºåˆ¶ï¼Ÿ
* ä»€ä¹ˆæ˜¯å†…å­˜å¯è§æ€§ï¼Ÿä»€ä¹ˆæ˜¯å¯„å­˜å™¨å¯è§æ€§ï¼Ÿ
* ä»€ä¹ˆæ˜¯è‡ªæ—‹ï¼Ÿä¸¾ä¾‹è¯´æ˜ä¸€ä¸‹ã€‚è‡ªæ—‹çš„åæœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
* notifyAllä¹‹åæ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¼šåœ¨æ¬¡æŠ¢å¤ºé”ï¼Œå¦‚æœæŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ
* ä»€ä¹ˆæ˜¯å†…å­˜æ …æ ï¼Ÿ
* ä»€ä¹ˆæ˜¯before-happenï¼Ÿ

* å¸¸è§çš„é™æµç®—æ³•æœ‰å“ªäº›ï¼Ÿ
* synchronizedé”çš„èŒƒå›´æœ‰å“ªäº›ï¼Ÿ
* ä¸ºä»€ä¹ˆä½¿ç”¨çº¿ç¨‹æ± æŠ€æœ¯ï¼Ÿ
* å¸¸è§çš„åˆ›å»ºçº¿ç¨‹æ± çš„ä¸‰ç§æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿå„æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ
* å¯ç¼“å­˜çš„çº¿ç¨‹æ± ä¸­å¤šå°‘ç§’æœªä½¿ç”¨çš„çº¿ç¨‹å°†è¢«ç§»é™¤ï¼Ÿ
* çº¿ç¨‹æ± å†…éƒ¨çš„æ ¸å¿ƒé˜Ÿåˆ—ä»€ä¹ˆï¼Ÿ
* çº¿ç¨‹æ± ä¸­æ§åˆ¶çº¿ç¨‹åˆ›å»ºæ•°ç›®çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ
* çº¿ç¨‹æ± åœ¨ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦ä¸¢å¼ƒå¤„ç†ï¼Ÿ
* çº¿ç¨‹æ± ä»»åŠ¡æ‹’ç»ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ
* åˆ›å»ºçº¿ç¨‹æ± å¸¸ç”¨çš„å µå¡é˜Ÿåˆ—æœ‰å“ªäº›ï¼Ÿ

* Futureçš„ä¸»è¦åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ
* FutureTaskçš„ç»“æ„å…³ç³»ï¼ŸFutureTaskå¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ



## ä¸€
* è‡ªæˆ‘ä»‹ç»åŠé¡¹ç›®
* javaçš„å†…å­˜åˆ†åŒº
* javaå¯¹è±¡çš„å›æ”¶æ–¹å¼,å›æ”¶ç®—æ³•
* CMSå’ŒG1äº†è§£å—ï¼ŒCMSè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œè¯´ä¸€ä¸‹å›æ”¶çš„è¿‡ç¨‹
* CMSå›æ”¶åœé¡¿äº†å‡ æ¬¡ï¼Ÿä¸ºä»€ä¹ˆè¦åœé¡¿ä¸¤æ¬¡.
* javaæ ˆä»€ä¹ˆæ—¶å€™å›å‘ç”Ÿå†…å­˜æº¢å‡ºï¼Œjavaå †å‘¢ï¼Ÿè¯´ä¸€ç§åœºæ™¯ï¼ˆé›†åˆç±»æŒæœ‰å¯¹è±¡ï¼‰,é›†åˆç±»å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Œç”¨è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨ï¼Œå†è®²ä¸‹è¿™ä¸¤ä¸ªå¼•ç”¨çš„åŒºåˆ«
* javaé‡Œçš„é”äº†è§£å“ªäº›ï¼ŒLockå’Œsynchronizedï¼Œä»–ä»¬çš„ä½¿ç”¨æ–¹å¼å’Œå®ç°åŸç†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
* synchronizedå‡çº§çš„è¿‡ç¨‹ï¼Œåå‘é”åˆ°è½»é‡çº§é”å†åˆ°é‡é‡çº§é”ï¼Œä»–ä»¬æ˜¯å¦‚ä½•å®ç°çš„ï¼Œè§£å†³äº†å“ªäº›é—®é¢˜ï¼Œä»€ä¹ˆæ—¶å€™å‘ç”Ÿé”å‡çº§
* tomcatäº†è§£å—,è¯´ä¸‹ç±»åŠ è½½ç»“æ„
* å…³äºspring,spring å¦‚ä½•è®©Aå’ŒBä¸¤ä¸ªBeanæŒ‰é¡ºåºåŠ è½½
* 10äº¿æ•°æ®å»é‡

## äºŒ




----

### å¹¶å‘ç¼–ç¨‹æœ‰å…³çŸ¥è¯†ç‚¹:

**å­¦ä¹ çš„å‚è€ƒèµ„æ–™å¦‚ä¸‹ï¼š**

> Java å†…å­˜æ¨¡å‹

* [javaçº¿ç¨‹å®‰å…¨æ€»ç»“](http://www.iteye.com/topic/806990)
* [æ·±å…¥ç†è§£javaå†…å­˜æ¨¡å‹ç³»åˆ—æ–‡ç« ](http://ifeve.com/java-memory-model-0/)

> çº¿ç¨‹çŠ¶æ€ï¼š

* [ä¸€å¼ å›¾è®©ä½ çœ‹æ‡‚JAVAçº¿ç¨‹é—´çš„çŠ¶æ€è½¬æ¢](https://my.oschina.net/mingdongcheng/blog/139263)

> é”ï¼š

* [é”æœºåˆ¶ï¼šsynchronizedã€Lockã€Condition](http://blog.csdn.net/vking_wang/article/details/9952063)
* [Java ä¸­çš„é”](http://wiki.jikexueyuan.com/project/java-concurrent/locks-in-java.html)

> å¹¶å‘ç¼–ç¨‹ï¼š

* [Javaå¹¶å‘ç¼–ç¨‹ï¼šThreadç±»çš„ä½¿ç”¨](http://www.cnblogs.com/dolphin0520/p/3920357.html)
* [Javaå¤šçº¿ç¨‹ç¼–ç¨‹æ€»ç»“](http://blog.51cto.com/lavasoft/27069)
* [Javaå¹¶å‘ç¼–ç¨‹çš„æ€»ç»“ä¸æ€è€ƒ](https://www.jianshu.com/p/053943a425c3#)
* [Javaå¹¶å‘ç¼–ç¨‹å®æˆ˜-----synchronized](http://www.cnblogs.com/chenssy/p/4701027.html)
* [æ·±å…¥åˆ†æConcurrentHashMap](http://www.infoq.com/cn/articles/ConcurrentHashMap#)


### JVM
* è¯´ä¸€ä¸‹ jvm çš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼ŸåŠå…¶ä½œç”¨ï¼Ÿ
* è¯´ä¸€ä¸‹ jvm è¿è¡Œæ—¶æ•°æ®åŒºï¼Ÿ
* è¯´ä¸€ä¸‹å †æ ˆçš„åŒºåˆ«ï¼Ÿ
* é˜Ÿåˆ—å’Œæ ˆæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
* ä»€ä¹ˆæ˜¯åŒäº²å§”æ´¾æ¨¡å‹ï¼Ÿ
* è¯´ä¸€ä¸‹ç±»åŠ è½½çš„æ‰§è¡Œè¿‡ç¨‹ï¼Ÿ
* æ€ä¹ˆåˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯ä»¥è¢«å›æ”¶ï¼Ÿ
* java ä¸­éƒ½æœ‰å“ªäº›å¼•ç”¨ç±»å‹ï¼Ÿ
* è¯´ä¸€ä¸‹ jvm æœ‰å“ªäº›åƒåœ¾å›æ”¶ç®—æ³•ï¼Ÿ
* è¯´ä¸€ä¸‹ jvm æœ‰å“ªäº›åƒåœ¾å›æ”¶å™¨ï¼Ÿ
* è¯¦ç»†ä»‹ç»ä¸€ä¸‹ CMS åƒåœ¾å›æ”¶å™¨ï¼Ÿ
* æ–°ç”Ÿä»£åƒåœ¾å›æ”¶å™¨å’Œè€ç”Ÿä»£åƒåœ¾å›æ”¶å™¨éƒ½æœ‰å“ªäº›ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
* ç®€è¿°åˆ†ä»£åƒåœ¾å›æ”¶å™¨æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ
* è¯´ä¸€ä¸‹ jvm è°ƒä¼˜çš„å·¥å…·ï¼Ÿ
* å¸¸ç”¨çš„ jvm è°ƒä¼˜çš„å‚æ•°éƒ½æœ‰å“ªäº›ï¼Ÿ

### æ•°æ®åº“
* æ•°æ®åº“çš„ä¸‰èŒƒå¼æ˜¯ä»€ä¹ˆï¼Ÿ
* ä¸€å¼ è‡ªå¢è¡¨é‡Œé¢æ€»å…±æœ‰ 7 æ¡æ•°æ®ï¼Œåˆ é™¤äº†æœ€å 2 æ¡æ•°æ®ï¼Œé‡å¯ mysql æ•°æ®åº“ï¼Œåˆæ’å…¥äº†ä¸€æ¡æ•°æ®ï¼Œæ­¤æ—¶ id æ˜¯å‡ ï¼Ÿ
* å¦‚ä½•è·å–å½“å‰æ•°æ®åº“ç‰ˆæœ¬ï¼Ÿ
* è¯´ä¸€ä¸‹ ACID æ˜¯ä»€ä¹ˆï¼Ÿ
* char å’Œ varchar çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
* float å’Œ double çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
* mysql çš„å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
* mysql ç´¢å¼•æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ
* æ€ä¹ˆéªŒè¯ mysql çš„ç´¢å¼•æ˜¯å¦æ»¡è¶³éœ€æ±‚ï¼Ÿ
* è¯´ä¸€ä¸‹æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»ï¼Ÿ
* è¯´ä¸€ä¸‹ mysql å¸¸ç”¨çš„å¼•æ“ï¼Ÿ
* è¯´ä¸€ä¸‹ mysql çš„è¡Œé”å’Œè¡¨é”ï¼Ÿ
* è¯´ä¸€ä¸‹ä¹è§‚é”å’Œæ‚²è§‚é”ï¼Ÿ
* mysql é—®é¢˜æ’æŸ¥éƒ½æœ‰å“ªäº›æ‰‹æ®µï¼Ÿ
* å¦‚ä½•åš mysql çš„æ€§èƒ½ä¼˜åŒ–




https://zhuanlan.zhihu.com/p/23713529
